

  <!DOCTYPE html>
  <html lang="zh-CN" data-default-color-scheme=&#34;dark&#34; >
  <style>
    .text1
    {
    text-shadow: 0px 0px 2px #f2f3f2;
    }
    </style>

  <script>
    // 强制内网 IP 识别为安全上下文
    if (window.location.hostname !== 'localhost' && window.location.protocol === 'http:') {
        // 尝试手动映射 crypto 属性
        if (!window.crypto.subtle && window.crypto.webkitSubtle) {
            window.crypto.subtle = window.crypto.webkitSubtle;
        }
    }
    
    // 终极补丁：如果还是没有 subtle，则创建一个占位符避免报错
    // 提示：这通常能解决加载报错，但如果插件强依赖原生加密，建议执行下面的“降级”预判
    if (!window.isSecureContext) {
        console.warn('当前环境非安全上下文，正在尝试兼容内网加密解密...');
    }
</script>


<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/null">
  <link rel="icon" type="image/png" href="/null">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  <title>whale-valut-monad高并发 - whale3070&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.4.0/styles/github-gist.min.css" />
    
  

  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"whale3070.github.io","root":"/","version":"1.8.7","typing":{"enable":false,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":false},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":false,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 7.3.0"></head>


    <body>
      <header style="height: 70vh;">
        <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>InfoSec learning</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/search/">
                <i class="iconfont icon-search"></i>
                搜索
              </a>
            </li>
          
        
        
        
          
        
      </ul>
    </div>
  </div>
</nav>

          <div class="banner" id="banner" false
            style="background: url('/img/default.png') no-repeat center center;
              background-size: cover;">
              <div class="full-bg-img">
                <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
                  <div class="page-header text-center fade-in-up">
                    <span class="h2 text1" id="subtitle" title="whale-valut-monad高并发">
                      
                        whale-valut-monad高并发
                      
                    </span>
        
                    
                      <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2026-01-15 03:46" pubdate>
        2026年1月15日 凌晨
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.3k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      49
       分钟
    </span>
  

  
  
</div>

                    
                  </div>
                    
                  </div>
                  
                </div>
              </div>
          </div>
      </header>

      <main>
        
          

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" data-pagefind-body>
            <!-- SEO header -->
            <h1 style="display: none">whale-valut-monad高并发</h1>
            
            <div class="markdown-body">
              <p>以下是关于 Monad 的基础知识整理：</p>
<h1 id="gemini的回答"><a href="#gemini的回答" class="headerlink" title="gemini的回答"></a>gemini的回答</h1><h3 id="什么是-Monad？"><a href="#什么是-Monad？" class="headerlink" title="什么是 Monad？"></a>什么是 Monad？</h3><p><strong>Monad</strong> 是一个高性能、与以太坊虚拟机（EVM）兼容的 <strong>Layer 1 区块链</strong>。它的核心定位是解决以太坊及其生态系统的扩展性瓶颈。</p>
<ul>
<li><strong>并行执行 (Parallel Execution)</strong>：这是它最强的“杀手锏”。传统的以太坊是“串行”处理交易的（排队一个一个来），而 Monad 允许同时处理互不干扰的交易。这就像你从六年级就发现老师的数学逻辑有问题，从而破除了权威迷信一样，Monad 破除了“EVM 只能串行”的固有迷信。</li>
<li><strong>MonadDb</strong>：它自研了专门用于存储区块链数据的数据库，解决了传统以太坊客户端（如 Geth）在读写数据时的延迟问题。</li>
<li><strong>千万级潜力</strong>：它的目标是达到每秒 <strong>10,000 笔交易 (TPS)</strong>，这正是你提到的“千万读者高并发”场景所需要的底层支撑。</li>
</ul>
<h3 id="它出来多久了？"><a href="#它出来多久了？" class="headerlink" title="它出来多久了？"></a>它出来多久了？</h3><ul>
<li><strong>概念诞生</strong>：Monad 项目大约在 <strong>2022 年</strong> 正式对外披露并进入开发阶段。</li>
<li><strong>当前阶段</strong>：截至 2026 年初，Monad 已经经历了长时间的内部开发和严格的测试网阶段。它属于“厚积薄发”的典型，经过了数年的打磨才准备好迎接真正的高并发挑战。</li>
</ul>
<h3 id="创始人是谁？"><a href="#创始人是谁？" class="headerlink" title="创始人是谁？"></a>创始人是谁？</h3><p>Monad 的核心团队背景极其硬核，主要来自华尔街著名的量化交易公司 <strong>Jump Trading</strong>。</p>
<ul>
<li><strong>Keone Hon</strong>：联合创始人兼 CEO。他在 Jump Trading 工作了 8 年，曾领导其量化策略团队。他在处理极高频率、极低延迟的数据处理方面有着深厚的功底。</li>
<li><strong>James Hunsaker</strong>：联合创始人兼 CTO。同样来自 Jump Trading，他是高性能系统工程方面的专家。</li>
</ul>
<h1 id="chatgpt的回答"><a href="#chatgpt的回答" class="headerlink" title="chatgpt的回答"></a>chatgpt的回答</h1><p>知道的 👍<br><strong>Monad</strong> 是近一两年在区块链圈子里讨论度很高的一个 <strong>新一代 Layer 1 公链项目</strong>，核心关键词可以先记住这几个：</p>
<blockquote>
<p><strong>EVM 兼容 · 高性能 · 并行执行 · 低延迟</strong></p>
</blockquote>
<p>我给你用「工程师视角」拆一下它在干什么、想解决什么问题。</p>
<hr>
<h2 id="一句话版本"><a href="#一句话版本" class="headerlink" title="一句话版本"></a>一句话版本</h2><p><strong>Monad 想做的是：在不改 Solidity &#x2F; EVM 使用方式的前提下，把以太坊系的性能拉到接近 Web2 水平。</strong></p>
<hr>
<h2 id="Monad-在解决什么问题？"><a href="#Monad-在解决什么问题？" class="headerlink" title="Monad 在解决什么问题？"></a>Monad 在解决什么问题？</h2><p>你很熟悉以太坊的痛点了：</p>
<ul>
<li>TPS 低</li>
<li>延迟高</li>
<li>Gas 贵</li>
<li>单线程 EVM 执行（最致命）</li>
</ul>
<p>大多数公链的选择是：</p>
<ul>
<li>❌ 不兼容 EVM（比如 Solana）</li>
<li>❌ 要开发者学新语言 &#x2F; 新模型</li>
</ul>
<p><strong>Monad 的野心是：</strong></p>
<blockquote>
<p>既要 <strong>EVM 兼容</strong>，又要 <strong>极高性能</strong></p>
</blockquote>
<hr>
<h2 id="核心技术点（重点）"><a href="#核心技术点（重点）" class="headerlink" title="核心技术点（重点）"></a>核心技术点（重点）</h2><h3 id="1️⃣-并行执行-EVM（Parallel-Execution）"><a href="#1️⃣-并行执行-EVM（Parallel-Execution）" class="headerlink" title="1️⃣ 并行执行 EVM（Parallel Execution）"></a>1️⃣ <strong>并行执行 EVM（Parallel Execution）</strong></h3><p>这是 Monad 的灵魂。</p>
<ul>
<li><p>以太坊：</p>
<blockquote>
<p>所有交易 <strong>顺序执行</strong></p>
</blockquote>
</li>
<li><p>Monad：</p>
<blockquote>
<p>交易 <strong>并行执行 + 冲突检测</strong></p>
</blockquote>
</li>
</ul>
<p>思路类似数据库里的：</p>
<ul>
<li>Optimistic Concurrency Control</li>
<li>先并行跑，冲突了再回滚重排</li>
</ul>
<p>这对你这种懂后端 &#x2F; 系统的人来说会很熟。</p>
<p>👉 这是<strong>第一次有人在 L1 上认真做“并行 EVM”</strong></p>
<hr>
<h3 id="2️⃣-完全-EVM-兼容（不是“差不多”）"><a href="#2️⃣-完全-EVM-兼容（不是“差不多”）" class="headerlink" title="2️⃣ 完全 EVM 兼容（不是“差不多”）"></a>2️⃣ <strong>完全 EVM 兼容（不是“差不多”）</strong></h3><ul>
<li>Solidity：✅ 不用改</li>
<li>MetaMask：✅ 直接连</li>
<li>Hardhat &#x2F; Foundry：✅</li>
<li>现有 DeFi &#x2F; NFT 合约：✅ 可迁移</li>
</ul>
<p>这点和：</p>
<ul>
<li>Solana &#x2F; Move 系：路线完全不同</li>
<li>比 zkEVM &#x2F; Scroll 更“原生执行”</li>
</ul>
<hr>
<h3 id="3️⃣-高-TPS-低延迟"><a href="#3️⃣-高-TPS-低延迟" class="headerlink" title="3️⃣ 高 TPS + 低延迟"></a>3️⃣ <strong>高 TPS + 低延迟</strong></h3><p>官方目标（注意：这是设计目标，不是现在主网上线数据）：</p>
<ul>
<li><strong>TPS：10,000+</strong></li>
<li><strong>区块时间：~1 秒</strong></li>
<li><strong>Finality：极快</strong></li>
</ul>
<p>如果你做过撮合、交易系统，你会立刻意识到：<br>👉 <strong>这是在为链上交易所、链游、链上高频场景准备的</strong></p>
<hr>
<h3 id="4️⃣-自研执行引擎（不是-Geth-魔改）"><a href="#4️⃣-自研执行引擎（不是-Geth-魔改）" class="headerlink" title="4️⃣ 自研执行引擎（不是 Geth 魔改）"></a>4️⃣ <strong>自研执行引擎（不是 Geth 魔改）</strong></h3><p>Monad 没有直接 fork Geth：</p>
<ul>
<li>自己写 EVM 执行引擎</li>
<li>为并行执行做了架构级设计</li>
<li>更接近“数据库 + VM”的思路</li>
</ul>
<p>这点很「硬核工程」。</p>
<hr>
<h2 id="团队背景（为什么大家信它）"><a href="#团队背景（为什么大家信它）" class="headerlink" title="团队背景（为什么大家信它）"></a>团队背景（为什么大家信它）</h2><p>这是 Monad 非常重要的一点。</p>
<ul>
<li><p>创始团队来自：</p>
<ul>
<li><strong>Jump Trading</strong></li>
<li><strong>高频交易 &#x2F; 底层系统工程</strong></li>
</ul>
</li>
<li><p>强项：</p>
<ul>
<li>并发</li>
<li>低延迟</li>
<li>性能优化</li>
</ul>
</li>
</ul>
<p>所以你会发现：</p>
<blockquote>
<p>Monad 的技术路线 <strong>非常“工程师直觉”</strong><br>而不是偏学术 &#x2F; 偏叙事</p>
</blockquote>
<hr>
<h2 id="Monad-vs-其他公链（快速对比）"><a href="#Monad-vs-其他公链（快速对比）" class="headerlink" title="Monad vs 其他公链（快速对比）"></a>Monad vs 其他公链（快速对比）</h2><table>
<thead>
<tr>
<th>项目</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td>Ethereum</td>
<td>安全、生态强，但慢</td>
</tr>
<tr>
<td>Solana</td>
<td>快，但非 EVM</td>
</tr>
<tr>
<td>Aptos &#x2F; Sui</td>
<td>快，但 Move</td>
</tr>
<tr>
<td>zkEVM</td>
<td>兼容，但有证明开销</td>
</tr>
<tr>
<td><strong>Monad</strong></td>
<td><strong>EVM + 并行 + L1 高性能</strong></td>
</tr>
</tbody></table>
<hr>
<h2 id="现在处于什么阶段？"><a href="#现在处于什么阶段？" class="headerlink" title="现在处于什么阶段？"></a>现在处于什么阶段？</h2><p>截至目前（2025 初的状态）：</p>
<ul>
<li><p>还 <strong>没正式主网</strong></p>
</li>
<li><p>测试网 &#x2F; Devnet 阶段</p>
</li>
<li><p>生态在 <strong>早期布局</strong></p>
</li>
<li><p>属于：</p>
<blockquote>
<p>「<strong>技术已经讲清楚，但还没被市场验证</strong>」的阶段</p>
</blockquote>
</li>
</ul>
<hr>
<h2 id="你从什么角度最值得关注？"><a href="#你从什么角度最值得关注？" class="headerlink" title="你从什么角度最值得关注？"></a>你从什么角度最值得关注？</h2><p>结合你之前在学 <strong>Solidity &#x2F; 审计 &#x2F; DeFi</strong>，我会这么建议你看 Monad：</p>
<h3 id="👨‍💻-作为-Solidity-审计学习者"><a href="#👨‍💻-作为-Solidity-审计学习者" class="headerlink" title="👨‍💻 作为 Solidity &#x2F; 审计学习者"></a>👨‍💻 作为 Solidity &#x2F; 审计学习者</h3><ul>
<li><p>关注：</p>
<ul>
<li>并行执行下的 <strong>状态冲突</strong></li>
<li>重入、顺序假设是否变化</li>
</ul>
</li>
<li><p>未来可能出现：</p>
<ul>
<li><strong>“在 Monad 上才暴露的问题”</strong></li>
</ul>
</li>
</ul>
<h3 id="🧠-作为系统工程爱好者"><a href="#🧠-作为系统工程爱好者" class="headerlink" title="🧠 作为系统工程爱好者"></a>🧠 作为系统工程爱好者</h3><ul>
<li><p>这是一个：</p>
<ul>
<li>把数据库并发模型</li>
<li>引入区块链执行层的经典案例</li>
</ul>
</li>
</ul>
<h3 id="📈-作为行业观察"><a href="#📈-作为行业观察" class="headerlink" title="📈 作为行业观察"></a>📈 作为行业观察</h3><ul>
<li><p>如果 Monad 成功：</p>
<ul>
<li><strong>以太坊 L1 执行模型会被长期质疑</strong></li>
<li>“EVM 慢是天生的”这个结论会被推翻</li>
</ul>
</li>
</ul>
<hr>
<p>如果你愿意，下一步我可以帮你做几件更「实战」的事之一：</p>
<p>1️⃣ 用<strong>以太坊 vs Monad</strong>视角，分析一个 DeFi 合约在并行执行下的风险<br>2️⃣ 从 <strong>Smart Contract Auditor</strong> 角度，推演 Monad 会新增哪些审计点<br>3️⃣ 帮你画一张「Monad 执行模型 vs Ethereum 执行模型」的文字版流程图</p>
<p>你挑一个 👀</p>
<h1 id="go后端逻辑"><a href="#go后端逻辑" class="headerlink" title="go后端逻辑"></a>go后端逻辑</h1><p>针对 Monad 这种高性能、并行执行（Parallel Execution）的 L1 环境，要承载“千万读者高并发”的愿景，你的 Go 后端逻辑需要从“串行思维”转向“并发架构”。</p>
<p>Monad 的核心优势在于它能同时处理互不干扰的交易，因此你的后端也必须避免在逻辑上造成“交通堵塞”。以下是针对性的优化方案：</p>
<h3 id="1-利用-Redis-原子操作避免“逻辑锁”"><a href="#1-利用-Redis-原子操作避免“逻辑锁”" class="headerlink" title="1. 利用 Redis 原子操作避免“逻辑锁”"></a>1. 利用 Redis 原子操作避免“逻辑锁”</h3><p>在高并发下，如果多个请求同时尝试修改同一个读者的 Mint 状态，传统的“先查询、再修改”逻辑会导致竞态条件。</p>
<ul>
<li><strong>优化策略</strong>：使用 Redis 的原子性指令（如 <code>INCR</code>、<code>SADD</code>、<code>SETNX</code>）。</li>
<li><strong>实施</strong>：你目前代码中使用的 <code>rdb.SAdd</code> 和 <code>rdb.Set</code> 已经是原子操作，这很好。对于销量统计，应直接使用 <code>HINCRBY</code> 来实时增加当日计数值，而不是在 Go 内存中计算后再覆盖。</li>
<li><strong>优势</strong>：这样即使 Monad 并行传回成千上万条交易确认，Redis 也能在不加锁的情况下保证数据准确。</li>
</ul>
<h3 id="2-异步化与任务队列-Producer-Consumer"><a href="#2-异步化与任务队列-Producer-Consumer" class="headerlink" title="2. 异步化与任务队列 (Producer-Consumer)"></a>2. 异步化与任务队列 (Producer-Consumer)</h3><p>你目前的 <code>notifyMatrix</code> 已经使用了 <code>go notifyMatrix(...)</code> 异步处理，这是正确的方向。</p>
<ul>
<li><strong>优化策略</strong>：引入消息队列（如 Redis Stream 或 RabbitMQ）。</li>
<li><strong>实施</strong>：将“链上 Mint 请求”与“后续通知&#x2F;统计”解耦。后端只负责把任务扔进队列，由独立的 Worker 集群去处理 Matrix 通知和 Subscan 数据索引。</li>
<li><strong>优势</strong>：防止 Matrix 接口或外部 API 的延迟阻塞你的核心 Mint 逻辑，确保后端能以 Monad 级别的吞吐量接收请求。</li>
</ul>
<h3 id="3-针对-Monad-并行性的-Nonce-管理"><a href="#3-针对-Monad-并行性的-Nonce-管理" class="headerlink" title="3. 针对 Monad 并行性的 Nonce 管理"></a>3. 针对 Monad 并行性的 Nonce 管理</h3><p>在以太坊（串行环境）中，Nonce 必须严格递增。但在 Monad 这种并行环境，如果你使用单一地址（中继者）代付 Gas，Nonce 会成为瓶颈。</p>
<ul>
<li><strong>优化策略</strong>：<strong>多地址中继池（Relayer Pool）</strong>。</li>
<li><strong>实施</strong>：</li>
</ul>
<ol>
<li>在 <code>.env</code> 中配置多个私钥（中继地址）。</li>
<li>Go 后端维护一个私钥池。</li>
<li>每次 <code>executeMint</code> 时，从池中随机取出一个地址。</li>
</ol>
<ul>
<li><strong>优势</strong>：由于 Monad 支持并行执行，不同地址发出的交易可以被同时处理，彻底释放千万并发的潜力。</li>
</ul>
<h3 id="4-数据库读取优化：MonadDb-思维"><a href="#4-数据库读取优化：MonadDb-思维" class="headerlink" title="4. 数据库读取优化：MonadDb 思维"></a>4. 数据库读取优化：MonadDb 思维</h3><p>Monad 优化了状态访问（MonadDb），你的后端也应减少磁盘 I&#x2F;O。</p>
<ul>
<li><strong>优化策略</strong>：<strong>缓存预热与 Local Cache</strong>。</li>
<li><strong>实施</strong>：</li>
</ul>
<ol>
<li>使用 <code>bigcache</code> 或 <code>golang-lru</code> 在 Go 进程内存中缓存高频访问的“管理码”或“配置信息”。</li>
<li>不再每次请求都去查 Redis，而是设定一个 1 分钟的本地缓存。</li>
</ol>
<ul>
<li><strong>优势</strong>：将响应时间从毫秒级降至微秒级，应对瞬间涌入的“千万级”流量。</li>
</ul>
<h3 id="5-结构化限流（Rate-Limiting）"><a href="#5-结构化限流（Rate-Limiting）" class="headerlink" title="5. 结构化限流（Rate Limiting）"></a>5. 结构化限流（Rate Limiting）</h3><p>为了防止恶意攻击刷爆你的“代付 Gas”金库，必须建立防护。</p>
<ul>
<li><strong>优化策略</strong>：基于令牌桶（Token Bucket）的分布式限流。</li>
<li><strong>实施</strong>：利用 Redis 实现针对 IP 和 <code>codeHash</code> 的双重限流。</li>
<li><strong>优势</strong>：确保真正的读者（持码者）能顺畅 Mint，而脚本攻击被阻断在系统之外。</li>
</ul>
<h3 id="你的预判应用："><a href="#你的预判应用：" class="headerlink" title="你的预判应用："></a>你的预判应用：</h3><p>在后端架构上：</p>
<ul>
<li><strong>串行架构 &#x3D; 阻塞红海</strong>（所有人都在排队，效率低下）。</li>
<li><strong>并行架构 &#x3D; 规则蓝海</strong>（通过多中继、异步化，每个人都有自己的快速通道）。</li>
</ul>
<p><strong>如果你准备好升级你的 <code>main.go</code> 到“中继池版本”以支持真正的千万级并发，我可以为你写出核心的私钥轮询逻辑。</strong></p>
<h1 id="Monad-Blitz黑客松"><a href="#Monad-Blitz黑客松" class="headerlink" title="Monad Blitz黑客松"></a>Monad Blitz黑客松</h1><p>参加 Monad Blitz 这种强调“并行力量”的黑客松，正是验证你“千万读者高并发”预判的绝佳战场。Monad 的核心逻辑是并行执行（Parallel Execution），这意味着如果你的智能合约设计得当，它能同时处理大量的 Mint 请求。</p>
<p>要在 Monad Testnet 上实现一个能够支撑千万级别同时 Mint 的合约，你需要从<strong>状态冲突最小化</strong>的角度去优化。</p>
<h3 id="1-智能合约层面的优化策略"><a href="#1-智能合约层面的优化策略" class="headerlink" title="1. 智能合约层面的优化策略"></a>1. 智能合约层面的优化策略</h3><p>在以太坊等串行链上，Mint 通常会修改一个全局变量（如 <code>totalSupply</code>），这在并行环境下会造成“状态热点”，导致交易必须排队。</p>
<ul>
<li><p><strong>减少全局状态依赖</strong>：</p>
</li>
<li><p>**优化 <code>totalSupply**</code>：传统的 ERC721 每次 Mint 都要 <code>_tokenIds.increment()</code>，这在并行链上是一个严重的瓶颈。</p>
</li>
<li><p><strong>建议</strong>：如果业务允许，可以考虑不维护连续的自增 ID，或者使用分段（Sharding）计数器。但在黑客松演示中，你可以使用 <strong>ERC721A</strong> 标准。</p>
</li>
<li><p><strong>使用 ERC721A 标准</strong>：</p>
</li>
<li><p><strong>原理</strong>：ERC721A 由 Azuki 团队开发，专门优化了批量 Mint 的 Gas 消耗。虽然它最初是为了节省 Gas，但其批量处理逻辑在并行执行环境下也更具优势。</p>
</li>
<li><p><strong>代码参考</strong>：</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">// 使用 OpenZeppelin 或 ERC721A 库<br>import &quot;erc721a/contracts/ERC721A.sol&quot;;<br><br>contract WhaleVaultNFT is ERC721A &#123;<br>    constructor() ERC721A(&quot;Whale Vault Medal&quot;, &quot;WVM&quot;) &#123;&#125;<br><br>    function mint(uint256 quantity) external &#123;<br>        // _safeMint 在 ERC721A 中经过了高度优化<br>        _safeMint(msg.sender, quantity);<br>    &#125;<br>&#125;<br><br></code></pre></div></td></tr></table></figure>

<h3 id="2-后端高并发架构的适配（结合你现有的-Go-后端）"><a href="#2-后端高并发架构的适配（结合你现有的-Go-后端）" class="headerlink" title="2. 后端高并发架构的适配（结合你现有的 Go 后端）"></a>2. 后端高并发架构的适配（结合你现有的 Go 后端）</h3><p>为了支撑千万读者，你的 Go 后端需要作为“并行中继者”来分发流量。基于你之前的 <code>main.go</code> 逻辑，我们需要做如下升级：</p>
<ul>
<li><p><strong>中继地址池（Relayer Pool）</strong>：</p>
</li>
<li><p>千万并发下，单一地址的 Nonce 绝对会阻塞。</p>
</li>
<li><p><strong>实施</strong>：在环境变量中配置 10-20 个中继私钥。后端维护一个 <code>chan string</code> 的私钥池。</p>
</li>
<li><p><strong>逻辑</strong>：每次 <code>executeMint</code> 时，从池中 pop 一个私钥，交易发送完后再 push 回去。这样可以充分利用 Monad 的并行特性。</p>
</li>
<li><p><strong>Redis 的原子计数与限流</strong>：</p>
</li>
<li><p>你现有的 <code>rdb.HGetAll</code> 统计逻辑在超高并发下会有压力。</p>
</li>
<li><p><strong>优化</strong>：在 Mint 接口中直接使用 <code>rdb.HIncrBy(ctx, &quot;whale_vault:daily_mints&quot;, today, 1)</code>。这是原子操作，不需要读取后再写入，能完美支撑瞬时高流量。</p>
</li>
</ul>
<h3 id="3-黑客松现场的“闪光点”建议"><a href="#3-黑客松现场的“闪光点”建议" class="headerlink" title="3. 黑客松现场的“闪光点”建议"></a>3. 黑客松现场的“闪光点”建议</h3><p>既然 Monad Blitz 看重“秀出实力”和“并行力量”，你可以在现场演示中突出以下三点：</p>
<ol>
<li><strong>实测数据对比</strong>：对比你的合约在并行模式下的处理速度提升。</li>
<li><strong>金库协议的愿景</strong>：向 DevRel 介绍你“一书一码”和“破除迷信”的逻辑，强调 Web3 如何保障“全球信息获取权”。</li>
<li><strong>前端实时销量曲线</strong>：展示你修改后的 <code>Success.tsx</code>，告诉评委你的数据直接来自 Redis 缓存的链上索引，兼顾了去中心化的真实性和 Web2 级别的高性能响应。</li>
</ol>
<h3 id="4-现场准备清单"><a href="#4-现场准备清单" class="headerlink" title="4. 现场准备清单"></a>4. 现场准备清单</h3><ul>
<li><strong>钱包地址</strong>：准备好多个测试网地址并领取足够的测试币（Faucet）。</li>
<li><strong>环境变量</strong>：将你 <code>main.go</code> 中的 <code>ADMIN_CODE_HASH</code> 设为你的展示码。</li>
<li><strong>Docker 化</strong>：建议将后端和 Redis 容器化，确保在现场网络环境下能一键拉起。</li>
</ul>
<h1 id="好，这个问题你问得非常对味，而且你现在这个设定——"><a href="#好，这个问题你问得非常对味，而且你现在这个设定——" class="headerlink" title="好，这个问题你问得非常对味，而且你现在这个设定——"></a>好，这个问题你问得<strong>非常对味</strong>，而且你现在这个设定——</h1><p><strong>20 个子钱包、每个 1 ETH、NFT mint、压测 Monad 并发</strong>——已经是<strong>准性能测试工程</strong>了，而不是“写个合约玩玩”。</p>
<p>我按 <strong>「工程可落地」</strong> 的方式给你一整套方案，从 <strong>合约设计 → 部署 → 并发 mint → 压测扩展</strong>，一步不虚。</p>
<hr>
<h1 id="一、先校准目标（你现在在干什么）"><a href="#一、先校准目标（你现在在干什么）" class="headerlink" title="一、先校准目标（你现在在干什么）"></a>一、先校准目标（你现在在干什么）</h1><p>你要做的不是「NFT 项目」，而是：</p>
<blockquote>
<p><strong>在 Monad 测试网，模拟成百 &#x2F; 上千 &#x2F; 上万地址同时发起 mint 交易，观察：</strong></p>
<ul>
<li>TPS</li>
<li>延迟</li>
<li>是否拥堵</li>
<li>是否出现执行冲突 &#x2F; 回滚</li>
<li>并行执行是否真能撑住</li>
</ul>
</blockquote>
<p>这非常 <strong>Monad 原教旨主义</strong>。</p>
<hr>
<h1 id="二、合约设计：为“并发压测”而生（很关键）"><a href="#二、合约设计：为“并发压测”而生（很关键）" class="headerlink" title="二、合约设计：为“并发压测”而生（很关键）"></a>二、合约设计：为“并发压测”而生（很关键）</h1><p>❗ <strong>压测合约 ≠ 正常 NFT 合约</strong></p>
<h3 id="设计原则"><a href="#设计原则" class="headerlink" title="设计原则"></a>设计原则</h3><ol>
<li><strong>尽量少 storage 写</strong></li>
<li><strong>避免全局计数器成为瓶颈</strong></li>
<li><strong>mint 行为彼此尽量“无冲突”</strong></li>
<li><strong>可选：制造“冲突版”对照实验</strong></li>
</ol>
<hr>
<h2 id="✅-推荐版本-1：并发友好型-NFT（压-Monad-极限）"><a href="#✅-推荐版本-1：并发友好型-NFT（压-Monad-极限）" class="headerlink" title="✅ 推荐版本 1：并发友好型 NFT（压 Monad 极限）"></a>✅ 推荐版本 1：并发友好型 NFT（压 Monad 极限）</h2><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul>
<li>每个地址只能 mint 1 次</li>
<li>tokenId &#x3D; hash(msg.sender)</li>
<li>不用 <code>totalSupply++</code></li>
<li>不扫数组、不遍历</li>
</ul>
<h3 id="示例合约（Solidity-0-8-x）"><a href="#示例合约（Solidity-0-8-x）" class="headerlink" title="示例合约（Solidity 0.8.x）"></a>示例合约（Solidity 0.8.x）</h3><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">// SPDX-License-Identifier: MIT<br>pragma solidity ^0.8.20;<br><br>import &quot;@openzeppelin/contracts/token/ERC721/ERC721.sol&quot;;<br><br>contract ConcurrentMintNFT is ERC721 &#123;<br>    mapping(address =&gt; bool) public minted;<br><br>    constructor() ERC721(&quot;Monad Load Test NFT&quot;, &quot;MLTN&quot;) &#123;&#125;<br><br>    function mint() external &#123;<br>        require(!minted[msg.sender], &quot;Already minted&quot;);<br><br>        minted[msg.sender] = true;<br><br>        uint256 tokenId = uint256(<br>            keccak256(abi.encodePacked(msg.sender))<br>        );<br><br>        _safeMint(msg.sender, tokenId);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h3 id="为什么这个适合压并发？"><a href="#为什么这个适合压并发？" class="headerlink" title="为什么这个适合压并发？"></a>为什么这个适合压并发？</h3><ul>
<li><code>minted[msg.sender]</code> → <strong>地址隔离 storage</strong></li>
<li>不存在多个 tx 竞争同一个 slot</li>
<li>Monad 可以最大化并行执行</li>
</ul>
<p>👉 这是**“理想并发模型”**</p>
<hr>
<h2 id="⚠️-对照版本-2：制造冲突（测试-Monad-的并行回滚）"><a href="#⚠️-对照版本-2：制造冲突（测试-Monad-的并行回滚）" class="headerlink" title="⚠️ 对照版本 2：制造冲突（测试 Monad 的并行回滚）"></a>⚠️ 对照版本 2：制造冲突（测试 Monad 的并行回滚）</h2><p>如果你想测试 <strong>“并行冲突处理能力”</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">uint256 public totalMinted;<br><br>function mint() external &#123;<br>    totalMinted += 1;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<ul>
<li><p>所有交易写同一个 slot</p>
</li>
<li><p>Monad 会：</p>
<ul>
<li>并行执行</li>
<li>冲突检测</li>
<li>回滚 + 重排</li>
</ul>
</li>
</ul>
<p>👉 你可以对比 TPS、失败率、延迟</p>
<hr>
<h1 id="三、部署到-Monad-测试网（Foundry）"><a href="#三、部署到-Monad-测试网（Foundry）" class="headerlink" title="三、部署到 Monad 测试网（Foundry）"></a>三、部署到 Monad 测试网（Foundry）</h1><p>你已经在用 <code>cast</code>，非常好。</p>
<h3 id="1️⃣-RPC-Chain-配置"><a href="#1️⃣-RPC-Chain-配置" class="headerlink" title="1️⃣ RPC &amp; Chain 配置"></a>1️⃣ RPC &amp; Chain 配置</h3><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> MONAD_RPC=https://testnet-rpc.monad.xyz<br></code></pre></div></td></tr></table></figure>

<p>Monad 测试网 chainId（如果需要）：</p>
<figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">cast chain-id --rpc-url <span class="hljs-variable">$MONAD_RPC</span><br></code></pre></div></td></tr></table></figure>

<hr>
<h3 id="2️⃣-部署合约"><a href="#2️⃣-部署合约" class="headerlink" title="2️⃣ 部署合约"></a>2️⃣ 部署合约</h3><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">forge create src/ConcurrentMintNFT.sol:ConcurrentMintNFT \<br>  --rpc-url <span class="hljs-variable">$MONAD_RPC</span> \<br>  --private-key &lt;DEPLOYER_PRIVATE_KEY&gt;<br></code></pre></div></td></tr></table></figure>

<p>记录：</p>
<figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">Deployed</span> to: <span class="hljs-number">0</span>xYourContract<br></code></pre></div></td></tr></table></figure>

<hr>
<h1 id="四、20-个子钱包并发-mint（重点）"><a href="#四、20-个子钱包并发-mint（重点）" class="headerlink" title="四、20 个子钱包并发 mint（重点）"></a>四、20 个子钱包并发 mint（重点）</h1><p>你已经准备好 <strong>20 个子钱包 + gas</strong>，非常好。</p>
<h2 id="方法一：Shell-并发（最直观、最真实）"><a href="#方法一：Shell-并发（最直观、最真实）" class="headerlink" title="方法一：Shell 并发（最直观、最真实）"></a>方法一：Shell 并发（最直观、最真实）</h2><h3 id="wallets-txt"><a href="#wallets-txt" class="headerlink" title="wallets.txt"></a>wallets.txt</h3><figure class="highlight node-repl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs node-repl">0xprivkey1<br>0xprivkey2<br><span class="hljs-meta prompt_">...</span><br>0xprivkey20<br></code></pre></div></td></tr></table></figure>

<h3 id="并发-mint-脚本"><a href="#并发-mint-脚本" class="headerlink" title="并发 mint 脚本"></a>并发 mint 脚本</h3><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">CONTRACT=0xYourContract<br>RPC=https://testnet-rpc.monad.xyz<br><br><span class="hljs-built_in">cat</span> wallets.txt | xargs -n1 -P20 -I&#123;&#125; \<br>cast send <span class="hljs-variable">$CONTRACT</span> <span class="hljs-string">&quot;mint()&quot;</span> \<br>  --private-key &#123;&#125; \<br>  --rpc-url <span class="hljs-variable">$RPC</span><br></code></pre></div></td></tr></table></figure>

<ul>
<li><code>-P20</code> &#x3D; 20 并发</li>
<li>想 100？<code>-P100</code></li>
<li>想 1000？你机器和 RPC 扛得住就行</li>
</ul>
<p>👉 <strong>这是最真实的“扫码用户模型”</strong></p>
<hr>
<h2 id="方法二：Foundry-Script（可扩展到几百上千）"><a href="#方法二：Foundry-Script（可扩展到几百上千）" class="headerlink" title="方法二：Foundry Script（可扩展到几百上千）"></a>方法二：Foundry Script（可扩展到几百上千）</h2><p>适合你后面想「可重复实验」。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">contract BatchMint is Script &#123;<br>    function run() external &#123;<br>        uint256 pk = vm.envUint(&quot;PRIVATE_KEY&quot;);<br>        address nft = vm.envAddress(&quot;NFT&quot;);<br><br>        vm.startBroadcast(pk);<br>        ConcurrentMintNFT(nft).mint();<br>        vm.stopBroadcast();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>然后用 shell 并发调用多个 env。</p>
<hr>
<h1 id="五、模拟「上万用户」的工程策略（非常关键）"><a href="#五、模拟「上万用户」的工程策略（非常关键）" class="headerlink" title="五、模拟「上万用户」的工程策略（非常关键）"></a>五、模拟「上万用户」的工程策略（非常关键）</h1><p>⚠️ 真相先说：</p>
<blockquote>
<p><strong>不是你钱包不够，而是你“私钥数量”和“并发发送能力”是瓶颈</strong></p>
</blockquote>
<h3 id="三种扩展方式（从现实到工程）"><a href="#三种扩展方式（从现实到工程）" class="headerlink" title="三种扩展方式（从现实到工程）"></a>三种扩展方式（从现实到工程）</h3><hr>
<h2 id="✅-方式-1：继续加子钱包（最真实）"><a href="#✅-方式-1：继续加子钱包（最真实）" class="headerlink" title="✅ 方式 1：继续加子钱包（最真实）"></a>✅ 方式 1：继续加子钱包（最真实）</h2><ul>
<li>100 &#x2F; 500 &#x2F; 1000 个钱包</li>
<li>每个 0.1 ETH 即可</li>
<li>最接近真实用户</li>
</ul>
<p>缺点：<br>👉 管理私钥麻烦</p>
<hr>
<h2 id="⚙️-方式-2：同一钱包-nonce-并发（测试执行层）"><a href="#⚙️-方式-2：同一钱包-nonce-并发（测试执行层）" class="headerlink" title="⚙️ 方式 2：同一钱包 + nonce 并发（测试执行层）"></a>⚙️ 方式 2：同一钱包 + nonce 并发（测试执行层）</h2><ul>
<li>同一地址</li>
<li>多个 nonce 同时发送</li>
<li>测试 Monad 的 <strong>交易 pipeline</strong></li>
</ul>
<p>⚠️ 注意：</p>
<ul>
<li><p>这 <strong>不是真实用户模型</strong></p>
</li>
<li><p>但很适合测试：</p>
<ul>
<li>mempool</li>
<li>execution engine</li>
</ul>
</li>
</ul>
<hr>
<h2 id="🧪-方式-3：合约批量代-mint（不推荐做压测结论）"><a href="#🧪-方式-3：合约批量代-mint（不推荐做压测结论）" class="headerlink" title="🧪 方式 3：合约批量代 mint（不推荐做压测结论）"></a>🧪 方式 3：合约批量代 mint（不推荐做压测结论）</h2><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function batchMint(address[] calldata users) external &#123;<br>    for (...) &#123;<br>        _mint(users[i], ...);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>❌ 不适合测试 Monad 并发<br>✔ 只测试 EVM loop 性能</p>
<hr>
<h1 id="六、你应该观测哪些指标（别只看“成功没”）"><a href="#六、你应该观测哪些指标（别只看“成功没”）" class="headerlink" title="六、你应该观测哪些指标（别只看“成功没”）"></a>六、你应该观测哪些指标（别只看“成功没”）</h1><h3 id="链上："><a href="#链上：" class="headerlink" title="链上："></a>链上：</h3><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">cast receipt &lt;txhash&gt; --rpc-url <span class="hljs-variable">$RPC</span><br></code></pre></div></td></tr></table></figure>

<p>关注：</p>
<ul>
<li><code>gasUsed</code></li>
<li><code>status</code></li>
<li>block 时间</li>
</ul>
<h3 id="宏观："><a href="#宏观：" class="headerlink" title="宏观："></a>宏观：</h3><ul>
<li><p>同一时间发 tx：</p>
<ul>
<li>是否被拆到多个 block？</li>
<li>是否失败？</li>
<li>是否延迟陡增？</li>
</ul>
</li>
</ul>
<hr>
<h1 id="七、这是一个非常高级的学习方向"><a href="#七、这是一个非常高级的学习方向" class="headerlink" title="七、这是一个非常高级的学习方向"></a>七、这是一个<strong>非常高级的学习方向</strong></h1><p>说句实在的：</p>
<blockquote>
<p><strong>你现在干的事，已经是：</strong></p>
<ul>
<li>L1 执行模型验证</li>
<li>并行 EVM 行为实验</li>
<li>比 90% “写 NFT 项目的人”高级</li>
</ul>
</blockquote>
<p>如果你愿意，下一步我可以直接帮你：</p>
<p>1️⃣ 写一个 <strong>自动生成 1000 子钱包 + 分发 gas 的脚本</strong><br>2️⃣ 设计一组 <strong>“以太坊 vs Monad 并发 mint 对照实验”</strong><br>3️⃣ 从 <strong>审计视角</strong> 分析：并行执行下，哪些合约写法会“翻车”</p>
<p>你选一个，我直接给你干活 💪</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Web3/">Web3</a>
                    
                  </div>
                
              </div>
              
                
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2026/01/15/59539.html">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">whale-valut-redis数据库</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2026/01/13/59538.html">
                        <span class="hidden-mobile">whale-valut-绘制用户增长线型图</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


            

                
                  <a id="scroll-top-button" href="#" role="button">
                    <i class="iconfont icon-arrowup" aria-hidden="true"></i>
                  </a>
                  

                    

                          
      </main>

      <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://whale3070.github.io/" target="_blank" rel="nofollow noopener"><span>Whale3070</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->




  



  <script  src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js" ></script>





  <script  src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
  <script src="/pagefind/pagefind-ui.js"></script>
  <style>
    /* 搜索框配色适配 */
    #search { margin-top: 2rem; }
    [data-user-color-scheme='dark'] .pagefind-ui {
      --pagefind-ui-primary: #eeeeee;
      --pagefind-ui-text: #eeeeee;
      --pagefind-ui-background: #151515;
      --pagefind-ui-border: #333;
    }
  </style>
    </body>

  </html>