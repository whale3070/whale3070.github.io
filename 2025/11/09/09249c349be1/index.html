

  <!DOCTYPE html>
  <html lang="en" data-default-color-scheme=&#34;dark&#34; >
  <style>
    .text1
    {
    text-shadow: 0px 0px 2px #f2f3f2;
    }
    </style>

  

<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/null">
  <link rel="icon" type="image/png" href="/null">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  <title>Solidity programming essentials-本地以太坊模拟测试环境 - whale3070&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.7","typing":{"enable":false,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


    <body>
      <header style="height: 70vh;">
        <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>InfoSec learning</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          
        
      </ul>
    </div>
  </div>
</nav>

          <div class="banner" id="banner" false
            style="background: url('/img/default.png') no-repeat center center;
              background-size: cover;">
              <div class="full-bg-img">
                <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
                  <div class="page-header text-center fade-in-up">
                    <span class="h2 text1" id="subtitle" title="Solidity programming essentials-本地以太坊模拟测试环境">
                      
                        Solidity programming essentials-本地以太坊模拟测试环境
                      
                    </span>
        
                    
                      <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2025-11-09 03:14" pubdate>
        November 9, 2025 am
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.5k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      51
       分钟
    </span>
  

  
  
</div>

                    
                  </div>
                    
                  </div>
                  
                </div>
              </div>
          </div>
      </header>

      <main>
        
          

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Solidity programming essentials-本地以太坊模拟测试环境</h1>
            
            <div class="markdown-body">
              <p>复习一下前两章的内容</p>
<p><a target="_blank" rel="noopener" href="https://whale3070.com/2025/08/29/9370b48bc33a/">Solidity programming essentials-读书笔记</a><br>这一篇讨论了以太坊的一些基本概念。以太坊是一种基于密码学的算法，使用分布式的构架，把不同的节点分布在不同的计算机上进行通信，目的是解决不可信的环境下的可信数据传输的问题。以太坊的传输需要消耗gas，目的是防止黑客攻击，恶意堵塞以太坊网络，其次是为了激励矿工或者验证者维护以太坊网络。gas费就会奖励给打包以太的矿工或者验证者。 以太坊以前使用POW，工作量证明，现在使用POS。因为POW需要用计算机消耗大量电力去计算数学问题，POS更省电。<br>POS的原理是用户存入自己的真金白银，如果用户进行恶意操作，钱就会被罚没。 然后用户的资金越多，就可以优先打包区块，并获得gas费奖励。</p>
<p><a target="_blank" rel="noopener" href="https://whale3070.com/2025/11/08/d01c1ab0b4ff/">Solidity programming essentials-读书笔记2</a><br><a target="_blank" rel="noopener" href="https://whale3070.com/2025/08/31/1381b279ed17/">Remix IDE</a><br>这一篇讨论了solidity的学习要使用的一些工具，例如remix IDE,这是用来写solidity的编译运行的重要工具。 还有geth，这是以太坊的节点。以及metamask这是以太坊的钱包。 最后mist是以太坊早期的官方钱包，2019年不再更新，已经被淘汰，所以不用学习。</p>
<h1 id="Ganache-CLI"><a href="#Ganache-CLI" class="headerlink" title="Ganache CLI"></a>Ganache CLI</h1><p>使用以太坊修改和写入账本的交易过程分为以下两个截然不同的阶段：</p>
<p>第一阶段是创建交易并将其放入交易池。<br>第二阶段是定期从交易池中获取所有交易并进行“挖矿”。这里的“挖矿”指的是将这些交易写入以太坊数据库或账本。</p>
<p>根据以上描述，如果开发和测试都采用相同的流程，将会非常耗时。</p>
<p>为了简化以太坊上解决方案和智能合约的开发和测试流程，开发了 ganache-cli。它之前被称为 TestRPC。</p>
<p>ganache-cli 本身就包含了以太坊的交易处理和挖矿功能。此外，交易无需等待即可进行挖矿。</p>
<p>交易在生成时即被写入账本。这意味着开发者可以将 ganache-cli 用作以太坊节点，而无需进行挖矿活动即可将交易写入账本。</p>
<p>相反，交易会在创建时立即存储在账本中。</p>
<p>ganache-cli 依赖于 Node.js，因此在部署 ganache-cli 之前，机器上必须已安装 Node.js。如果尚未安装 Node.js，可以从 <a target="_blank" rel="noopener" href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a> 下载。</p>
<p>下载后，在cmd输入以下命令</p>
<figure class="highlight crmsh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs crmsh"><span class="hljs-keyword">node</span> <span class="hljs-title">--version</span><br>npm --<span class="hljs-keyword">version</span><br>npm install -g ganache-cli<br>ganache-cli<br></code></pre></div></td></tr></table></figure>

<p>在另一个cmd面板输入以下命令<br><code>geth attach rpc:http://127.0.0.1:8545</code></p>
<figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">Welcome to the Geth JavaScript console!<br><br>instance: EthereumJS TestRPC<span class="hljs-regexp">/v2.13.2/</span>ethereum-js<br>at block: <span class="hljs-number">0</span> (Sun Nov <span class="hljs-number">09</span> <span class="hljs-number">2025</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">53</span> GMT+<span class="hljs-number">0800</span> (CST))<br> modules: eth:<span class="hljs-number">1.0</span> evm:<span class="hljs-number">1.0</span> net:<span class="hljs-number">1.0</span> personal:<span class="hljs-number">1.0</span> rpc:<span class="hljs-number">1.0</span> web3:<span class="hljs-number">1.0</span><br><br>To <span class="hljs-keyword">exit</span>, press ctrl-d or type <span class="hljs-keyword">exit</span><br>&gt;<br></code></pre></div></td></tr></table></figure>

<p>这条命令和用 Ganache 学 Solidity 的关系，我给你详细解释一下：</p>
<hr>
<h3 id="1️⃣-geth-attach-rpc-http-127-0-0-1-8545-代表什么"><a href="#1️⃣-geth-attach-rpc-http-127-0-0-1-8545-代表什么" class="headerlink" title="1️⃣ geth attach rpc:http://127.0.0.1:8545 代表什么"></a>1️⃣ <code>geth attach rpc:http://127.0.0.1:8545</code> 代表什么</h3><ul>
<li><code>geth</code> 是 <strong>以太坊官方客户端（Go Ethereum）</strong>，可以用来运行一个完整节点或与节点交互。</li>
<li><code>attach</code> 命令用于 <strong>连接到正在运行的 Geth 节点</strong>，进入一个交互式控制台（类似 JS 控制台），可以执行 web3 命令。</li>
<li><code>rpc:http://127.0.0.1:8545</code> 表示你要连接的是 <strong>本地运行的以太坊节点的 RPC 接口</strong>，默认 Geth 的 JSON-RPC 端口是 8545。</li>
</ul>
<p>所以整个命令的意思就是：</p>
<blockquote>
<p>用 Geth 控制台连接本地节点，方便你用命令行操作链上的账户、合约和交易。</p>
</blockquote>
<hr>
<h3 id="2️⃣-使用-Ganache-cli-学习-Solidity"><a href="#2️⃣-使用-Ganache-cli-学习-Solidity" class="headerlink" title="2️⃣ 使用 Ganache-cli 学习 Solidity"></a>2️⃣ 使用 Ganache-cli 学习 Solidity</h3><p>Ganache 是一个 <strong>本地以太坊模拟环境</strong>，比跑 Geth 节点简单，非常适合学习和测试 Solidity。</p>
<h4 id="安装-Ganache-CLI"><a href="#安装-Ganache-CLI" class="headerlink" title="安装 Ganache CLI"></a>安装 Ganache CLI</h4><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">npm install -g ganache<br><span class="hljs-comment"># 或者旧版 ganache-cli</span><br>npm install -g ganache-cli<br></code></pre></div></td></tr></table></figure>

<h4 id="启动-Ganache-CLI"><a href="#启动-Ganache-CLI" class="headerlink" title="启动 Ganache CLI"></a>启动 Ganache CLI</h4><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">ganache<br></code></pre></div></td></tr></table></figure>

<p>默认会启动一个本地链：</p>
<ul>
<li>RPC 地址：<code>http://127.0.0.1:8545</code></li>
<li>默认账户：10 个测试账户，每个 100 ETH</li>
<li>区块时间：即时出块，适合测试</li>
</ul>
<h4 id="在-Remix-IDE-连接-Ganache"><a href="#在-Remix-IDE-连接-Ganache" class="headerlink" title="在 Remix IDE 连接 Ganache"></a>在 Remix IDE 连接 Ganache</h4><ol>
<li>打开 Remix → 左侧“Deploy &amp; Run Transactions”</li>
<li>Environment 选择 <strong>“Web3 Provider”</strong></li>
<li>输入 <code>http://127.0.0.1:8545</code></li>
<li>点击“Connect”</li>
</ol>
<p>这时候：</p>
<ul>
<li>你在 Remix 编写的 Solidity 合约，可以直接部署到本地 Ganache 模拟链</li>
<li>可以看到即时的交易、gas 消耗和账户余额</li>
</ul>
<hr>
<h3 id="3️⃣-学习-Solidity-推荐流程"><a href="#3️⃣-学习-Solidity-推荐流程" class="headerlink" title="3️⃣ 学习 Solidity 推荐流程"></a>3️⃣ 学习 Solidity 推荐流程</h3><ol>
<li>启动 Ganache CLI（本地测试链）</li>
<li>打开 Remix IDE</li>
<li>在 Remix 里编写简单合约，例如：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">// SPDX-License-Identifier: MIT<br>pragma solidity ^0.8.20;<br><br>contract Counter &#123;<br>    uint public count;<br><br>    function increment() public &#123;<br>        count += 1;<br>    &#125;<br><br>    function decrement() public &#123;<br>        count -= 1;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<ol start="4">
<li>编译 → 部署到 Ganache</li>
<li>调用函数测试状态变化</li>
<li>可以尝试连接 Web3.js / ethers.js 在 Node.js 中和本地链交互</li>
</ol>
<hr>
<p>✅ <strong>总结</strong>：</p>
<ul>
<li><code>geth attach rpc:http://127.0.0.1:8545</code> 是连接本地 Geth 节点。</li>
<li>对于学习 Solidity，直接用 <strong>Ganache + Remix</strong> 更简单高效，无需跑全节点。</li>
</ul>
<hr>
<p>如果你愿意，我可以帮你画一张 <strong>Remix + Ganache + 测试账户交互流程图</strong>，让整个本地学习环境更直观。</p>
<h1 id="Solidity-编译器"><a href="#Solidity-编译器" class="headerlink" title="Solidity 编译器"></a>Solidity 编译器</h1><p>Solidity 是用于编写智能合约的语言之一。</p>
<p>智能合约将在后续章节中详细介绍。</p>
<p>使用 Solidity 编写的代码需要使用 Solidity 编译器进行编译，该编译器会输出字节码以及部署智能合约所需的其他工件。</p>
<p>Solidity 之前是 Geth 安装的一部分；但是，它已从 Geth 中分离出来，<br>应该使用其自身的安装程序进行部署。</p>
<p>安装官方 solc Windows 可执行文件（提供 solc 命令）</p>
<p>下载官方 solc Windows 版本：<br><a target="_blank" rel="noopener" href="https://github.com/ethereum/solidity/releases">https://github.com/ethereum/solidity/releases</a></p>
<p>解压后把 solc.exe 放到某个目录（比如 C:\solidity）。</p>
<p>把这个目录加入 系统 PATH：</p>
<p>控制面板 → 系统 → 高级系统设置 → 环境变量 → PATH → 添加 C:\solidity</p>
<p>打开新命令行，运行：</p>
<p><code>solc --version</code></p>
<p>然后你就可以用原来的命令：</p>
<p><code>solc --optimize --bin --abi helloworld.sol -o build</code></p>
<h1 id="Web3-javascript-库"><a href="#Web3-javascript-库" class="headerlink" title="Web3 javascript 库"></a>Web3 javascript 库</h1><p>web3 库是一个开源的 JavaScript 库，可用于从同一台计算机或远程计算机连接到以太坊节点。</p>
<p>它支持进程间通信 (IPC) 和远程过程通信 (RPC) 连接到以太坊节点。web3 是一个客户端库，可以与网页一起使用，并进行查询，还可以向以太坊节点提交交易。它可以通过 Node 包管理器安装，就像 Solidity 编译器一样，作为 Node 模块安装。截至撰写本文时，最新版本的 web3 存在问题，由于缺少 BigNumber.js 文件，无法正确安装。但是，之前的稳定版本仍然可用于将 Web 应用程序连接到后端以太坊节点。让我们来看看安装 web3 JavaScript 库的步骤：</p>
<p>npm install <a href="mailto:&#x77;&#x65;&#98;&#x33;&#x40;&#x30;&#x2e;&#49;&#x39;">&#x77;&#x65;&#98;&#x33;&#x40;&#x30;&#x2e;&#49;&#x39;</a></p>
<p><strong><code>web3.js</code></strong> 是以太坊生态中最早也最广泛使用的 JavaScript 库之一，它的主要作用是让前端或后端 JavaScript 应用与以太坊区块链交互。具体来说，它可以：</p>
<ol>
<li><p><strong>连接以太坊节点</strong></p>
<ul>
<li>支持本地节点（如 Geth、OpenEthereum）或远程节点（Infura、Alchemy 等）。</li>
<li>允许通过 HTTP、WebSocket 或 IPC 与节点通信。</li>
</ul>
</li>
<li><p><strong>账户管理与签名交易</strong></p>
<ul>
<li>创建、导入、导出以太坊账户。</li>
<li>对交易或消息进行签名。</li>
</ul>
</li>
<li><p><strong>智能合约交互</strong></p>
<ul>
<li>调用已部署的智能合约函数（读写）。</li>
<li>监听事件（Event）和日志。</li>
</ul>
</li>
<li><p><strong>区块链信息查询</strong></p>
<ul>
<li>获取余额、区块信息、交易信息、网络状态等。</li>
</ul>
</li>
</ol>
<p>所以，它是 <strong>DApp 前端开发或后端服务的重要工具</strong>。</p>
<hr>
<h3 id="被淘汰了吗？"><a href="#被淘汰了吗？" class="headerlink" title="被淘汰了吗？"></a>被淘汰了吗？</h3><ul>
<li><p><strong>没有完全淘汰，但地位下降</strong></p>
<ul>
<li><p><code>web3.js</code> 现在仍然可用，而且社区很大，但开发节奏慢，部分 API 设计被认为不够现代化。</p>
</li>
<li><p>新的选择是 **<code>ethers.js</code>**：</p>
<ul>
<li>更轻量、模块化、TypeScript 友好。</li>
<li>API 设计更现代，更适合前端和后端应用。</li>
<li>在新项目中，很多团队更倾向于使用 <code>ethers.js</code>。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>总结：</p>
<ul>
<li><strong>旧项目或依赖 web3 的工具</strong> → 仍然用 <code>web3.js</code>。</li>
<li><strong>新项目开发</strong> → 推荐 <code>ethers.js</code>，也可以和 web3 互通。</li>
</ul>
<p>如果你愿意，我可以帮你画一张 <strong>web3.js vs ethers.js 对比图</strong>，让你一眼就能看出两者优缺点。你希望我画吗？</p>
<h1 id="MetaMask"><a href="#MetaMask" class="headerlink" title="MetaMask"></a>MetaMask</h1><p>MetaMask 是一款轻量级的 Chrome 浏览器扩展程序，它可以帮助用户与以太坊网络进行交互。它同时也是一个钱包，可以帮助用户发送和接收以太币。MetaMask 可以从<a target="_blank" rel="noopener" href="https://metamask.io/">https://metamask.io/</a> 下载。由于 MetaMask 在浏览器中运行，它不会<br>将整个链数据下载到本地；而是将其集中存储，并帮助用户通过浏览器连接到其存储。</p>
<h2 id="1-安装-MetaMask"><a href="#1-安装-MetaMask" class="headerlink" title="1. 安装 MetaMask"></a>1. 安装 MetaMask</h2><ul>
<li>Chrome 浏览器打开：<a target="_blank" rel="noopener" href="https://metamask.io/">https://metamask.io</a></li>
<li>点击 Install → 安装插件</li>
<li>选择“创建钱包（Create a new wallet）”</li>
</ul>
<h2 id="2-创建账户"><a href="#2-创建账户" class="headerlink" title="2. 创建账户"></a>2. 创建账户</h2><ul>
<li>设置密码</li>
<li>保存助记词（12 个英文单词）</li>
<li>创建成功后，你会看到“Account 1”和一个 0 ETH 的余额</li>
</ul>
<hr>
<h2 id="切换到测试网络（Sepolia）（3-分钟）"><a href="#切换到测试网络（Sepolia）（3-分钟）" class="headerlink" title="切换到测试网络（Sepolia）（3 分钟）"></a>切换到测试网络（Sepolia）（3 分钟）</h2><ol>
<li>打开 MetaMask → 右上角圆点 → Settings（设置）</li>
<li>点击 “Advanced”（高级）</li>
<li>找到 “Show test networks”（显示测试网络） → 打开</li>
<li>回到主界面：点击网络切换，下拉找到<br><strong>“Sepolia test network”</strong> → 选择</li>
</ol>
<p>现在你在测试网上了。</p>
<h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><p>本章内容丰富。以太坊</p>
<p>节点实现了 JSON RPC 端点，可以通过<br>WebSocket、IPC 和 RPC 连接到这些端点。本章讨论了<br>各种类型的网络——公共网络、主网络、测试网络和私有网络。</p>
<p>本章还讨论并实现了一个私有网络。本章提供了创建开发环境的步骤，该环境将在后续章节中使用。</p>
<p>本章重点介绍如何在 Windows 操作系统上部署多种工具和实用程序。</p>
<p>虽然每个工具都有其自身的工作原理和功能，</p>
<p>但有些工具最终可能会实现相同的功能。例如，基于 Geth 的私有链和 ganache-cli 本质上都是以太坊节点，但存在一些差异。本章介绍了 Geth、Solidity 编译器、ganache-cli、web3 JavaScript 框架、Mist 和 MetaMask 的部署。</p>
<p>一些读者可能喜欢使用ganache-cli，而另一些读者则可能对使用基于 Geth 的私有以太坊节点感兴趣。还有一个名为 Truffle 的重要实用程序，</p>
<p>我们将在后续章节中介绍。</p>
<p>下一章我们将重点介绍 Solidity 语言，这也是本书的标题。Solidity 支持面向对象编程，提供原生数据类型和复杂数据类型，帮助用户声明和定义接受参数和返回值的函数，提供控制结构和表达式，以及许多其他特性。下一章将深入探讨变量和数据类型。变量和数据类型是任何编程语言的核心，在 Solidity 中尤为重要，因为它需要在分布式账本中存储这些数据。</p>
<h1 id="solc和remix-ide编译运行solidity-helloworld的区别"><a href="#solc和remix-ide编译运行solidity-helloworld的区别" class="headerlink" title="solc和remix ide编译运行solidity helloworld的区别"></a>solc和remix ide编译运行solidity helloworld的区别</h1><p>好的，我们来详细对比一下 <strong><code>solc</code> CLI</strong> 和 <strong>Remix IDE</strong> 在编译、部署和运行 Solidity 合约（比如 <code>HelloWorld.sol</code>）时的区别，帮你理清思路：</p>
<hr>
<h2 id="1️⃣-编译方式"><a href="#1️⃣-编译方式" class="headerlink" title="1️⃣ 编译方式"></a>1️⃣ <strong>编译方式</strong></h2><table>
<thead>
<tr>
<th>特点</th>
<th>solc CLI</th>
<th>Remix IDE</th>
</tr>
</thead>
<tbody><tr>
<td><strong>编译器类型</strong></td>
<td>官方命令行编译器（C++ 原生或 solc-js）</td>
<td>内置 solc-js 或远程编译器</td>
</tr>
<tr>
<td><strong>操作方式</strong></td>
<td>命令行，需要手动指定文件路径和输出</td>
<td>图形界面操作，直接上传文件或新建合约</td>
</tr>
<tr>
<td><strong>输出内容</strong></td>
<td>生成 <code>.bin</code>（Bytecode）和 <code>.abi</code> 文件</td>
<td>可以直接在浏览器看到 Bytecode 和 ABI，也能直接部署</td>
</tr>
<tr>
<td><strong>版本控制</strong></td>
<td>需要手动安装不同版本的 solc</td>
<td>可以在 Remix 选择不同版本的 solc 编译器（方便切换）</td>
</tr>
</tbody></table>
<p>✅ 总结：</p>
<ul>
<li><code>solc</code> 更适合 <strong>自动化、脚本化编译</strong></li>
<li>Remix 更适合 <strong>快速试验和可视化调试</strong></li>
</ul>
<hr>
<h2 id="2️⃣-部署方式"><a href="#2️⃣-部署方式" class="headerlink" title="2️⃣ 部署方式"></a>2️⃣ <strong>部署方式</strong></h2><table>
<thead>
<tr>
<th>特点</th>
<th>solc CLI</th>
<th>Remix IDE</th>
</tr>
</thead>
<tbody><tr>
<td><strong>需要环境</strong></td>
<td>本地节点（Ganache / Geth） + Web3/ethers.js 脚本</td>
<td>内置虚拟机（JavaScript VM），也可连接本地节点或测试网</td>
</tr>
<tr>
<td><strong>操作复杂度</strong></td>
<td>手动用脚本部署，需要提供 ABI、Bytecode</td>
<td>直接点击“Deploy”按钮即可部署</td>
</tr>
<tr>
<td><strong>适合用途</strong></td>
<td>自动化测试、CI/CD、与前端或脚本对接</td>
<td>快速调试、教学、测试智能合约逻辑</td>
</tr>
</tbody></table>
<p>✅ 总结：</p>
<ul>
<li><code>solc</code> + Node.js/ethers.js → <strong>专业开发流程</strong></li>
<li>Remix → <strong>快速验证合约、学习和小项目</strong></li>
</ul>
<hr>
<h2 id="3️⃣-运行-测试合约"><a href="#3️⃣-运行-测试合约" class="headerlink" title="3️⃣ 运行/测试合约"></a>3️⃣ <strong>运行/测试合约</strong></h2><table>
<thead>
<tr>
<th>特点</th>
<th>solc CLI</th>
<th>Remix IDE</th>
</tr>
</thead>
<tbody><tr>
<td><strong>调用合约方法</strong></td>
<td>需要写 Web3.js 或 ethers.js 脚本调用</td>
<td>图形界面可直接输入参数调用函数，查看返回值</td>
</tr>
<tr>
<td><strong>交易模拟</strong></td>
<td>需要本地链或测试网环境</td>
<td>JavaScript VM 内置账户和 ETH，模拟交易即时执行</td>
</tr>
<tr>
<td><strong>调试功能</strong></td>
<td>需要额外工具（如 Remix Debugger 或 Hardhat）</td>
<td>内置调试器，可以单步执行、查看栈、事件等</td>
</tr>
</tbody></table>
<p>✅ 总结：</p>
<ul>
<li>solc → 更贴近真实区块链环境</li>
<li>Remix → 交互直观，适合调试、教学和演示</li>
</ul>
<hr>
<h2 id="4️⃣-适用场景"><a href="#4️⃣-适用场景" class="headerlink" title="4️⃣ 适用场景"></a>4️⃣ <strong>适用场景</strong></h2><table>
<thead>
<tr>
<th>场景</th>
<th>推荐工具</th>
</tr>
</thead>
<tbody><tr>
<td>快速写一个合约、测试函数逻辑</td>
<td>Remix IDE</td>
</tr>
<tr>
<td>编写完整项目，自动化编译、部署到本地链或测试网</td>
<td>solc + Node.js/ethers.js 或 Hardhat/Truffle</td>
</tr>
<tr>
<td>学习 Solidity 语法、调试事件、查看变量</td>
<td>Remix IDE</td>
</tr>
<tr>
<td>集成到前端 DApp 或自动化测试</td>
<td>solc 编译生成 ABI/Bytecode + Web3.js/ethers.js</td>
</tr>
</tbody></table>
<hr>
<h3 id="⚡-总结"><a href="#⚡-总结" class="headerlink" title="⚡ 总结"></a>⚡ 总结</h3><ul>
<li><strong>Remix IDE</strong> = 可视化、快速、适合学习和实验</li>
<li><strong>solc CLI</strong> = 专业、脚本化、适合自动化和真实项目流程</li>
</ul>
<blockquote>
<p>实际开发中，很多人是<strong>先用 Remix 验证逻辑，再用 solc + Node.js 部署到本地链或测试网</strong>，两者结合使用效率最高。</p>
</blockquote>
<h1 id="Remix-最新部署环境说明"><a href="#Remix-最新部署环境说明" class="headerlink" title="Remix 最新部署环境说明"></a>Remix 最新部署环境说明</h1><table>
<thead>
<tr>
<th>环境选项</th>
<th>说明</th>
<th>适用场景</th>
</tr>
</thead>
<tbody><tr>
<td>Remix VM</td>
<td>内置的本地 EVM，交易即时完成，不需要外部节点或 MetaMask</td>
<td>测试、练习、学习 Solidity 合约</td>
</tr>
<tr>
<td>Browser Wallet</td>
<td>通过浏览器钱包（如 MetaMask）连接到网络（测试网/主网）</td>
<td>部署到测试网或主网</td>
</tr>
<tr>
<td>WalletConnect</td>
<td>通过 WalletConnect 协议连接移动钱包</td>
<td>移动端钱包部署</td>
</tr>
</tbody></table>
<p><img src="1109-2.png" srcset="/img/loading.gif" alt="环境environment"></p>
<p>明白了，你看到的 <strong>Remix VM</strong> 下拉菜单里列出了不同的 <strong>EVM 模拟环境</strong>，这些名字对应的是以太坊不同的 <strong>硬分叉（Hard Fork）版本或网络分支</strong>。我来帮你梳理：</p>
<hr>
<h3 id="1️⃣-为什么会有这么多选项"><a href="#1️⃣-为什么会有这么多选项" class="headerlink" title="1️⃣ 为什么会有这么多选项"></a>1️⃣ 为什么会有这么多选项</h3><p>以太坊网络会定期升级协议，这些升级称为 <strong>Hard Forks</strong>，每次升级都会引入新的 EVM 规则。Remix VM 模拟器提供了这些不同版本，方便你测试合约在不同 EVM 版本下的行为。</p>
<hr>
<h3 id="2️⃣-各选项含义"><a href="#2️⃣-各选项含义" class="headerlink" title="2️⃣ 各选项含义"></a>2️⃣ 各选项含义</h3><table>
<thead>
<tr>
<th>Remix VM 选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Remix VM (Prague)</strong></td>
<td>对应近期以太坊网络升级后状态，支持最新 EVM 特性</td>
</tr>
<tr>
<td><strong>Remix VM (Cancun)</strong></td>
<td>最新以太坊硬分叉模拟（如 Proto-Danksharding 功能等）</td>
</tr>
<tr>
<td><strong>Remix VM - Mainnet fork</strong></td>
<td>模拟主网当前状态，方便测试主网合约兼容性</td>
</tr>
<tr>
<td><strong>Remix VM - Sepolia fork</strong></td>
<td>模拟 Sepolia 测试网状态，适合测试部署在 Sepolia 的合约</td>
</tr>
<tr>
<td><strong>Remix VM - Custom fork</strong></td>
<td>自定义 fork，可指定 RPC URL 或特定网络状态</td>
</tr>
<tr>
<td><strong>Remix VM (Shanghai / Paris / London / Berlin)</strong></td>
<td>对应以太坊历史硬分叉版本，用于回测合约在旧 EVM 规则下的表现</td>
</tr>
</tbody></table>
<blockquote>
<p>简单来说：<strong>Prague / Cancun / Shanghai / Paris / London / Berlin</strong> 是不同版本 EVM<br><strong>Mainnet / Sepolia / Custom fork</strong> 是带网络状态的模拟</p>
</blockquote>
<hr>
<h3 id="3️⃣-推荐选择"><a href="#3️⃣-推荐选择" class="headerlink" title="3️⃣ 推荐选择"></a>3️⃣ 推荐选择</h3><ul>
<li><strong>普通练习 / 测试 <code>Counter</code> 合约</strong>：选择 <strong>Remix VM (Prague)</strong> 或 <strong>Remix VM (Shanghai)</strong> 就够了。</li>
<li><strong>想测试在主网或测试网状态</strong>：用 <strong>Mainnet fork</strong> 或 <strong>Sepolia fork</strong>。</li>
<li><strong>想自定义区块状态或余额</strong>：用 <strong>Custom fork</strong>。</li>
</ul>
<blockquote>
<p>对你的场景（简单增减计数器合约），直接选 **Remix VM (Prague)**，点击 <strong>Deploy</strong> 就能立即测试，无需连接外部节点或钱包。</p>
</blockquote>
<hr>
<p>如果你愿意，我可以帮你画一张 <strong>Remix VM 各版本对比图</strong>，标明哪些适合测试、哪些用于 fork 主网/测试网、哪些对应历史硬分叉，让你一眼就能选对环境。</p>
<h1 id="如果使用Remix-VM-Shanghai）那还需要ganache-cli干什么？"><a href="#如果使用Remix-VM-Shanghai）那还需要ganache-cli干什么？" class="headerlink" title="如果使用Remix VM (Shanghai）那还需要ganache-cli干什么？"></a>如果使用Remix VM (Shanghai）那还需要ganache-cli干什么？</h1><h3 id="1️⃣-Remix-VM（Shanghai）是什么？"><a href="#1️⃣-Remix-VM（Shanghai）是什么？" class="headerlink" title="1️⃣ Remix VM（Shanghai）是什么？"></a>1️⃣ Remix VM（Shanghai）是什么？</h3><ul>
<li><p><strong>Remix 内置的虚拟机 (Remix VM)</strong> 是一个 <strong>完全本地的 EVM 环境</strong>，不依赖外部节点。</p>
</li>
<li><p><strong>Shanghai</strong> 是 Remix VM 的一个版本，对应 Ethereum 的 <strong>Shanghai 硬分叉特性</strong>。</p>
</li>
<li><p>优点：</p>
<ul>
<li>不需要启动任何额外节点或网络。</li>
<li>部署和测试速度快。</li>
<li>可直接在 Remix 中调用 Solidity 合约、模拟交易、查看账户余额。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="2️⃣-ganache-cli-是什么？"><a href="#2️⃣-ganache-cli-是什么？" class="headerlink" title="2️⃣ ganache-cli 是什么？"></a>2️⃣ ganache-cli 是什么？</h3><ul>
<li><p>Ganache-cli 是 Truffle/Hardhat 生态常用的 <strong>本地以太坊模拟链</strong>，可以在终端启动一个本地链。</p>
</li>
<li><p>特点：</p>
<ul>
<li>可以模拟区块时间、gas 费用、交易失败等。</li>
<li>可以通过 <strong>RPC 接口</strong> 与 web3/ethers.js 或 Hardhat/Truffle 交互。</li>
<li>支持 <strong>多种测试账户</strong> 和 <strong>预置资金</strong>。</li>
<li>更接近实际链的行为，可以模拟更多真实情况。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3️⃣-两者对比和使用场景"><a href="#3️⃣-两者对比和使用场景" class="headerlink" title="3️⃣ 两者对比和使用场景"></a>3️⃣ 两者对比和使用场景</h3><table>
<thead>
<tr>
<th>特性</th>
<th>Remix VM (Shanghai)</th>
<th>Ganache-cli</th>
</tr>
</thead>
<tbody><tr>
<td>是否独立于本地节点</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>支持 RPC 调用</td>
<td>❌（只能在 Remix 内）</td>
<td>✅（前端/脚本可连接）</td>
</tr>
<tr>
<td>区块控制</td>
<td>Remix 自动生成</td>
<td>可自定义区块时间、gas、难度</td>
</tr>
<tr>
<td>调试功能</td>
<td>✅（Remix 自带调试器）</td>
<td>✅（Truffle/Hardhat 调试）</td>
</tr>
<tr>
<td>适合场景</td>
<td>快速编写、测试智能合约</td>
<td>集成测试、前后端联调、模拟真实链环境</td>
</tr>
</tbody></table>
<hr>
<h3 id="4️⃣-所以问题的答案"><a href="#4️⃣-所以问题的答案" class="headerlink" title="4️⃣ 所以问题的答案"></a>4️⃣ 所以问题的答案</h3><ul>
<li><p><strong>如果只是用 Remix VM (Shanghai) 写和测试合约</strong> → <strong>不需要 ganache-cli</strong>，因为 Remix VM 已经可以部署和测试了。</p>
</li>
<li><p><strong>如果你想做更复杂的集成测试</strong>，比如：</p>
<ul>
<li>用 Node.js 脚本调用合约</li>
<li>测试前端 dApp</li>
<li>模拟多账户和交易行为</li>
<li>或者要用 Truffle / Hardhat 框架<br>→ 那就需要 <strong>ganache-cli</strong> 或其他本地链。</li>
</ul>
</li>
</ul>
<hr>
<p>💡 小结：</p>
<ul>
<li><strong>简单快速测试 → Remix VM 就够</strong></li>
<li><strong>复杂测试或开发 → ganache-cli / Hardhat 本地链更灵活</strong></li>
</ul>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Web3/">Web3</a>
                    
                  </div>
                
              </div>
              
                
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/11/09/e96a9d4e4e7d/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Web3基础概念-Solidity</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/11/08/d01c1ab0b4ff/">
                        <span class="hidden-mobile">Solidity programming essentials-读书笔记2</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


            

                
                  <a id="scroll-top-button" href="#" role="button">
                    <i class="iconfont icon-arrowup" aria-hidden="true"></i>
                  </a>
                  

                    
                      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
                        

                          
      </main>

      <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://whale3070.github.io/" target="_blank" rel="nofollow noopener"><span>Whale3070</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>






  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



    </body>

  </html>