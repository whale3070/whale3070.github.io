

  <!DOCTYPE html>
  <html lang="zh-CN" data-default-color-scheme=&#34;dark&#34; >
  <style>
    .text1
    {
    text-shadow: 0px 0px 2px #f2f3f2;
    }
    </style>

  

<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/null">
  <link rel="icon" type="image/png" href="/null">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  <title>remixç¼–è¯‘è¿è¡Œsolidity9 - whale3070&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"192.168.126.129","root":"/","version":"1.8.7","typing":{"enable":false,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 7.3.0"></head>


    <body>
      <header style="height: 70vh;">
        <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>InfoSec learning</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/search/">
                <i class="iconfont icon-search"></i>
                æœç´¢
              </a>
            </li>
          
        
        
        
          
        
      </ul>
    </div>
  </div>
</nav>

          <div class="banner" id="banner" false
            style="background: url('/img/default.png') no-repeat center center;
              background-size: cover;">
              <div class="full-bg-img">
                <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
                  <div class="page-header text-center fade-in-up">
                    <span class="h2 text1" id="subtitle" title="remixç¼–è¯‘è¿è¡Œsolidity9">
                      
                        remixç¼–è¯‘è¿è¡Œsolidity9
                      
                    </span>
        
                    
                      <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2025-11-15 04:20" pubdate>
        2025å¹´11æœˆ15æ—¥ å‡Œæ™¨
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      5.1k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      62
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

                    
                  </div>
                    
                  </div>
                  
                </div>
              </div>
          </div>
      </header>

      <main>
        
          

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" data-pagefind-body>
            <!-- SEO header -->
            <h1 style="display: none">remixç¼–è¯‘è¿è¡Œsolidity9</h1>
            
            <div class="markdown-body">
              <p>æ˜¨å¤©å­¦äº†enumæšä¸¾æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œæ˜¯ä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œå¸¸ç”¨äºè¡¨ç¤ºç­‰çº§ã€ä»»åŠ¡çš„çŠ¶æ€æœº<br>æ˜¨å¤©è¿˜äº†è§£äº†loyaltyæ˜¯web3å¢é•¿æœ€å¿«çš„å•†ä¸šæ¨¡å¼ã€‚å¹¶ä¸”åœ¨linkedinä¸ŠæŸ¥çœ‹äº†ä¸€äº›web3çš„å²—ä½å¹¶å‘åˆ°äº†å…¬ä¼—å·ä¸Šã€‚<br>å‰å¤©å­¦äº†åˆçº¦çš„ç»§æ‰¿ï¼Œå¤šé‡ç»§æ‰¿ï¼Œå¤šé‡ç»§æ‰¿ã€‚</p>
<p>å¥½çš„ï¼ç°åœ¨æ­£å¼è¿›å…¥ <strong>ä»Šå¤©ä»»åŠ¡ 3ï¼šé˜…è¯» ERC20 æ ‡å‡†åˆçº¦</strong>ã€‚<br>æˆ‘ä»¬é‡‡ç”¨ <strong>OpenZeppelin æœ€ç»å…¸ã€æœ€æ¸…æ™°çš„ ERC20 å®ç°ï¼ˆç®€åŒ–ç‰ˆï¼‰</strong>ï¼Œå¹¶ä¸”æˆ‘ä¼šå¸¦ä½ é€è¡Œåˆ†æï¼Œè®©ä½ æœªæ¥çœ‹ä»»ä½• DeFi åè®®éƒ½ä¸ä¼šå¡ã€‚</p>
<h1 id="ğŸ“˜-æ ‡å‡†-ERC20ï¼ˆæ•™å­¦ç”¨ç®€åŒ–ç‰ˆï¼‰"><a href="#ğŸ“˜-æ ‡å‡†-ERC20ï¼ˆæ•™å­¦ç”¨ç®€åŒ–ç‰ˆï¼‰" class="headerlink" title="ğŸ“˜ æ ‡å‡† ERC20ï¼ˆæ•™å­¦ç”¨ç®€åŒ–ç‰ˆï¼‰"></a>ğŸ“˜ <strong>æ ‡å‡† ERC20ï¼ˆæ•™å­¦ç”¨ç®€åŒ–ç‰ˆï¼‰</strong></h1><p>ä¸‹é¢è¿™ä¸ªç‰ˆæœ¬å»æ‰äº†å¤æ‚æ¨¡å—ï¼ˆå¦‚ ERC20Permitã€ERC20Votesï¼‰ï¼Œä¿ç•™å®Œæ•´æ ¸å¿ƒé€»è¾‘ï¼Œé€‚åˆç¬¬ä¸€æ¬¡é˜…è¯»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">// SPDX-License-Identifier: MIT<br>pragma solidity ^0.8.20;<br><br>contract ERC20 &#123;<br>    string public name;<br>    string public symbol;<br>    uint8 public decimals = 18;<br>    uint public totalSupply;<br><br>    mapping(address =&gt; uint) private balances;<br>    mapping(address =&gt; mapping(address =&gt; uint)) private allowances;<br><br>    event Transfer(address indexed from, address indexed to, uint value);<br>    event Approval(address indexed owner, address indexed spender, uint value);<br><br>    constructor(string memory _name, string memory _symbol) &#123;<br>        name = _name;<br>        symbol = _symbol;<br>    &#125;<br><br>    function balanceOf(address account) public view returns (uint) &#123;<br>        return balances[account];<br>    &#125;<br><br>    function transfer(address to, uint amount) public returns (bool) &#123;<br>        _transfer(msg.sender, to, amount);<br>        return true;<br>    &#125;<br><br>    function approve(address spender, uint amount) public returns (bool) &#123;<br>        allowances[msg.sender][spender] = amount;<br>        emit Approval(msg.sender, spender, amount);<br>        return true;<br>    &#125;<br><br>    function allowance(address owner, address spender) public view returns (uint) &#123;<br>        return allowances[owner][spender];<br>    &#125;<br><br>    function transferFrom(address from, address to, uint amount) public returns (bool) &#123;<br>        uint currentAllowance = allowances[from][msg.sender];<br>        require(currentAllowance &gt;= amount, &quot;insufficient allowance&quot;);<br>        allowances[from][msg.sender] = currentAllowance - amount;<br>        _transfer(from, to, amount);<br>        return true;<br>    &#125;<br><br>    function _transfer(address from, address to, uint amount) internal &#123;<br>        require(from != address(0), &quot;from zero&quot;);<br>        require(to != address(0), &quot;to zero&quot;);<br>        require(balances[from] &gt;= amount, &quot;balance too low&quot;);<br><br>        balances[from] -= amount;<br>        balances[to] += amount;<br><br>        emit Transfer(from, to, amount);<br>    &#125;<br><br>    function _mint(address to, uint amount) internal &#123;<br>        require(to != address(0), &quot;mint to zero&quot;);<br>        totalSupply += amount;<br>        balances[to] += amount;<br>        emit Transfer(address(0), to, amount);<br>    &#125;<br><br>    function _burn(address from, uint amount) internal &#123;<br>        require(from != address(0), &quot;burn zero&quot;);<br>        require(balances[from] &gt;= amount, &quot;burn too much&quot;);<br>        balances[from] -= amount;<br>        totalSupply -= amount;<br>        emit Transfer(from, address(0), amount);<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h1 id="æ ¸å¿ƒå‡½æ•°"><a href="#æ ¸å¿ƒå‡½æ•°" class="headerlink" title="æ ¸å¿ƒå‡½æ•°"></a>æ ¸å¿ƒå‡½æ•°</h1><p>æˆ‘æ¥å¸®ä½ é€ä¸ªè®²è§£ä½ è¿™ä¸ª ERC20 åˆçº¦é‡Œçš„æ ¸å¿ƒå‡½æ•°ï¼Œä»¥åŠå¦‚ä½•åœ¨ <strong>Remix çš„ Deployed Contracts</strong> é¡µé¢é‡Œæµ‹è¯•å®ƒä»¬ã€‚æˆ‘ä»¬æŒ‰åŠŸèƒ½æ¥æ‹†è§£ï¼Œå°½é‡ç»“åˆæ“ä½œç¤ºä¾‹ï¼Œç›´è§‚æ˜“æ‡‚ã€‚</p>
<h2 id="1ï¸âƒ£-balanceOf"><a href="#1ï¸âƒ£-balanceOf" class="headerlink" title="1ï¸âƒ£ balanceOf"></a>1ï¸âƒ£ <code>balanceOf</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function balanceOf(address account) public view returns (uint)<br></code></pre></div></td></tr></table></figure>

<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li>æŸ¥è¯¢æŸä¸ªåœ°å€çš„ <strong>ä»£å¸ä½™é¢</strong>ã€‚</li>
<li><strong>ä¸ä¿®æ”¹åŒºå—é“¾çŠ¶æ€</strong>ï¼Œåªæ˜¯è¯»å–ã€‚</li>
</ul>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
<ol>
<li>éƒ¨ç½²åˆçº¦åï¼Œåœ¨ Deployed Contracts æ‰¾åˆ° <code>balanceOf</code> å‡½æ•°ã€‚</li>
<li>è¾“å…¥ä¸€ä¸ªåœ°å€ï¼ˆæ¯”å¦‚éƒ¨ç½²è€…åœ°å€ï¼‰ã€‚</li>
<li>ç‚¹å‡» <code>call</code> â†’ è¿”å›è¯¥åœ°å€çš„ä»£å¸æ•°é‡ã€‚</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å¦‚æœè¿˜æ²¡æœ‰ mint è¿‡ä»£å¸ï¼Œä½™é¢æ˜¯ 0ã€‚</li>
</ul>
<h2 id="2ï¸âƒ£-transfer"><a href="#2ï¸âƒ£-transfer" class="headerlink" title="2ï¸âƒ£ transfer"></a>2ï¸âƒ£ <code>transfer</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function transfer(address to, uint amount) public returns (bool)<br></code></pre></div></td></tr></table></figure>

<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li>å°†è‡ªå·±è´¦æˆ·é‡Œçš„ä»£å¸è½¬ç»™åˆ«äººã€‚</li>
<li>è°ƒç”¨è€…æ˜¯ <code>msg.sender</code>ï¼ˆä¹Ÿå°±æ˜¯å‘é€è€…ï¼‰ï¼Œåªä¼šæ‰£è‡ªå·±çš„ä½™é¢ã€‚</li>
</ul>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
<ol>
<li><p>åœ¨ Deployed Contracts æ‰¾åˆ° <code>transfer</code>ã€‚</p>
</li>
<li><p>è¾“å…¥ï¼š</p>
<ul>
<li><code>to</code> â†’ å¯¹æ–¹åœ°å€</li>
<li><code>amount</code> â†’ ä»£å¸æ•°é‡</li>
</ul>
</li>
<li><p>ç‚¹å‡» <code>transact</code>ï¼ˆè¿™é‡Œä¼šä¿®æ”¹é“¾ä¸ŠçŠ¶æ€ï¼‰ã€‚</p>
</li>
<li><p>ä½¿ç”¨ <code>balanceOf</code> å¯ä»¥éªŒè¯è½¬è´¦æ˜¯å¦æˆåŠŸã€‚</p>
</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ä½™é¢ä¸è¶³ä¼š <code>revert</code> â†’ æŠ¥ <code>&quot;balance too low&quot;</code>ã€‚</li>
<li>ä¸èƒ½ç»™ 0 åœ°å€è½¬è´¦ â†’ æŠ¥ <code>&quot;to zero&quot;</code>ã€‚</li>
</ul>
<h2 id="3ï¸âƒ£-approve"><a href="#3ï¸âƒ£-approve" class="headerlink" title="3ï¸âƒ£ approve"></a>3ï¸âƒ£ <code>approve</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function approve(address spender, uint amount) public returns (bool)<br></code></pre></div></td></tr></table></figure>

<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li>æˆæƒåˆ«äººï¼ˆspenderï¼‰å¯ä»¥ <strong>ä»ä½ çš„è´¦æˆ·èŠ±è´¹ä¸€å®šæ•°é‡çš„ä»£å¸</strong>ã€‚</li>
<li>å¹¶ä¸ä¼šçœŸæ­£è½¬å¸ï¼Œåªæ˜¯è®¾ç½® allowanceã€‚</li>
</ul>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
<ol>
<li><p>æ‰¾åˆ° <code>approve</code> å‡½æ•°ã€‚</p>
</li>
<li><p>è¾“å…¥ï¼š</p>
<ul>
<li><code>spender</code> â†’ è¢«æˆæƒè€…åœ°å€</li>
<li><code>amount</code> â†’ å…è®¸èŠ±è´¹çš„ä»£å¸æ•°é‡</li>
</ul>
</li>
<li><p>ç‚¹å‡» <code>transact</code> â†’ ä¼šè§¦å‘ <code>Approval</code> äº‹ä»¶ã€‚</p>
</li>
<li><p>å¯ä»¥é€šè¿‡ <code>allowance</code> æŸ¥çœ‹æˆæƒé¢åº¦ã€‚</p>
</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>æ²¡æœ‰ä½™é¢ä¹Ÿå¯ä»¥ approveï¼Œåªæ˜¯åˆ«äºº transferFrom æ—¶ä¼šå¤±è´¥ã€‚</li>
</ul>
<h2 id="4ï¸âƒ£-allowance"><a href="#4ï¸âƒ£-allowance" class="headerlink" title="4ï¸âƒ£ allowance"></a>4ï¸âƒ£ <code>allowance</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function allowance(address owner, address spender) public view returns (uint)<br></code></pre></div></td></tr></table></figure>

<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li>æŸ¥è¯¢ <code>owner</code> ç»™ <code>spender</code> æˆæƒäº†å¤šå°‘ä»£å¸ã€‚</li>
</ul>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
<ol>
<li><p>æ‰¾åˆ° <code>allowance</code>ã€‚</p>
</li>
<li><p>è¾“å…¥ï¼š</p>
<ul>
<li><code>owner</code> â†’ æˆæƒäººåœ°å€</li>
<li><code>spender</code> â†’ è¢«æˆæƒäººåœ°å€</li>
</ul>
</li>
<li><p>ç‚¹å‡» <code>call</code> â†’ è¿”å›å‰©ä½™å¯ç”¨é¢åº¦ã€‚</p>
</li>
</ol>
<h2 id="5ï¸âƒ£-transferFrom"><a href="#5ï¸âƒ£-transferFrom" class="headerlink" title="5ï¸âƒ£ transferFrom"></a>5ï¸âƒ£ <code>transferFrom</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function transferFrom(address from, address to, uint amount) public returns (bool)<br></code></pre></div></td></tr></table></figure>

<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li><p>è¢«æˆæƒè€…ï¼ˆmsg.senderï¼‰ä»åˆ«äººè´¦æˆ· <code>from</code> è½¬ä»£å¸åˆ° <code>to</code>ã€‚</p>
</li>
<li><p>éœ€è¦ï¼š</p>
<ul>
<li><code>from</code> å·²ç» approve msg.sender è¶³å¤Ÿé¢åº¦</li>
<li><code>from</code> æœ‰è¶³å¤Ÿä½™é¢</li>
</ul>
</li>
</ul>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
<ol>
<li>Alice approve Bob 50 ä¸ª token</li>
<li>Bob è°ƒç”¨ <code>transferFrom(Alice, Charlie, 20)</code></li>
<li><code>_allowances[Alice][Bob]</code> ä¼šå‡å°‘ 20</li>
<li><code>_balances[Alice]</code> æ‰£ 20ï¼Œ<code>_balances[Charlie]</code> åŠ  20</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ä½™é¢æˆ–æˆæƒä¸è¶³ä¼š revert</li>
<li>msg.sender &#x3D; è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„äºº</li>
</ul>
<h2 id="6ï¸âƒ£-mint"><a href="#6ï¸âƒ£-mint" class="headerlink" title="6ï¸âƒ£ _mint"></a>6ï¸âƒ£ <code>_mint</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function _mint(address to, uint amount) internal<br></code></pre></div></td></tr></table></figure>

<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li>é“¸é€ æ–°çš„ä»£å¸ç»™æŸä¸ªåœ°å€</li>
<li>å¢åŠ  <code>totalSupply</code></li>
<li>å¢åŠ  <code>to</code> çš„ä½™é¢</li>
</ul>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼ˆDeployed Contracts ä¸èƒ½ç›´æ¥è°ƒï¼‰ï¼š</strong></p>
<ul>
<li><code>_mint</code> æ˜¯ <strong>internal</strong>ï¼Œåªèƒ½åœ¨åˆçº¦å†…éƒ¨è°ƒç”¨ï¼ˆæ¯”å¦‚éƒ¨ç½²æ—¶æˆ–å†™ä¸€ä¸ª public mint å‡½æ•°ï¼‰ã€‚</li>
<li>å¦‚æœæƒ³æµ‹è¯•ï¼Œéœ€è¦åœ¨åˆçº¦é‡ŒåŠ ä¸€ä¸ª public åŒ…è£…å‡½æ•°ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function mint(address to, uint amount) public &#123;<br>    _mint(to, amount);<br>&#125;<br></code></pre></div></td></tr></table></figure>

<ul>
<li>ç„¶ååœ¨ Deployed Contracts è°ƒç”¨ <code>mint</code>ï¼Œè‡ªå·±ç»™è‡ªå·±å¢åŠ ä»£å¸ã€‚</li>
</ul>
<h2 id="7ï¸âƒ£-burn"><a href="#7ï¸âƒ£-burn" class="headerlink" title="7ï¸âƒ£ _burn"></a>7ï¸âƒ£ <code>_burn</code></h2><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function _burn(address from, uint amount) internal<br></code></pre></div></td></tr></table></figure>

<p><strong>ä½œç”¨ï¼š</strong></p>
<ul>
<li>é”€æ¯ä»£å¸</li>
<li>æ‰£é™¤ <code>from</code> çš„ä½™é¢</li>
<li>å‡å°‘ <code>totalSupply</code></li>
</ul>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼ˆDeployed Contracts ä¸èƒ½ç›´æ¥è°ƒï¼‰ï¼š</strong></p>
<ul>
<li>åŒ <code>_mint</code>ï¼Œéœ€è¦ä¸€ä¸ª public åŒ…è£…å‡½æ•°ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function burn(uint amount) public &#123;<br>    _burn(msg.sender, amount);<br>&#125;<br></code></pre></div></td></tr></table></figure>

<ul>
<li>ç„¶åè°ƒç”¨ <code>burn</code>ï¼Œä¼šå‡å°‘ä½ è´¦æˆ·çš„ä»£å¸å’Œæ€»é‡ã€‚</li>
</ul>
<h2 id="8ï¸âƒ£-åœ¨-Deployed-Contracts-ä¸­æµ‹è¯•æµç¨‹ç¤ºä¾‹"><a href="#8ï¸âƒ£-åœ¨-Deployed-Contracts-ä¸­æµ‹è¯•æµç¨‹ç¤ºä¾‹" class="headerlink" title="8ï¸âƒ£ åœ¨ Deployed Contracts ä¸­æµ‹è¯•æµç¨‹ç¤ºä¾‹"></a>8ï¸âƒ£ åœ¨ Deployed Contracts ä¸­æµ‹è¯•æµç¨‹ç¤ºä¾‹</h2><p>å‡è®¾ä½ æƒ³å®Œæ•´æµ‹è¯•ï¼š</p>
<ol>
<li><p><strong>mint ç»™è‡ªå·±ä»£å¸</strong></p>
<ul>
<li>å¦‚æœéƒ¨ç½²æ—¶æ²¡æœ‰ initial supplyï¼Œéœ€è¦å†™ public mint</li>
<li>mint(è‡ªå·±åœ°å€, 100)</li>
</ul>
</li>
<li><p><strong>æŸ¥è¯¢ä½™é¢</strong></p>
<ul>
<li>balanceOf(è‡ªå·±åœ°å€) â†’ 100</li>
</ul>
</li>
<li><p><strong>transfer ç»™åˆ«äºº</strong></p>
<ul>
<li>transfer(æœ‹å‹åœ°å€, 10)</li>
<li>balanceOf(è‡ªå·±) â†’ 90</li>
<li>balanceOf(æœ‹å‹) â†’ 10</li>
</ul>
</li>
<li><p><strong>æˆæƒåˆ«äºº</strong></p>
<ul>
<li>approve(æœ‹å‹åœ°å€, 20)</li>
</ul>
</li>
<li><p><strong>åˆ«äººè°ƒç”¨ transferFrom</strong></p>
<ul>
<li>balanceOf(æœ‹å‹) &#x3D; 0</li>
<li>æœ‹å‹è°ƒç”¨ transferFrom(è‡ªå·±, æœ‹å‹, 10)</li>
<li>balanceOf(è‡ªå·±) â†’ 80</li>
<li>balanceOf(æœ‹å‹) â†’ 10</li>
<li>allowance(è‡ªå·±, æœ‹å‹) â†’ 10</li>
</ul>
</li>
<li><p><strong>burn è‡ªå·±ä»£å¸</strong></p>
<ul>
<li>burn(5)</li>
<li>balanceOf(è‡ªå·±) â†’ 75</li>
<li>totalSupply å‡å°‘ 5</li>
</ul>
</li>
</ol>
<p>å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç”»ä¸€å¼  <strong>ERC20 æµç¨‹å›¾</strong>ï¼ŒæŠŠ <strong>balanceOfã€transferã€approveã€transferFromã€mintã€burn</strong> ä¸€å¼ å›¾å±•ç¤ºå‡ºæ¥ï¼Œæµç¨‹ç›´è§‚ã€é“¾ä¸Šæ“ä½œå¯¹åº”å…³ç³»æ¸…æ™°ã€‚</p>
<p>ä½ å¸Œæœ›æˆ‘ç”»å—ï¼Ÿ</p>
<h1 id="è¿™ä¸ªä»£ç é‡Œå¥½åƒæ²¡æœ‰ä»£å¸ï¼Œè½¬è´¦çš„æ—¶å€™è€æ˜¯å¤±è´¥"><a href="#è¿™ä¸ªä»£ç é‡Œå¥½åƒæ²¡æœ‰ä»£å¸ï¼Œè½¬è´¦çš„æ—¶å€™è€æ˜¯å¤±è´¥" class="headerlink" title="è¿™ä¸ªä»£ç é‡Œå¥½åƒæ²¡æœ‰ä»£å¸ï¼Œè½¬è´¦çš„æ—¶å€™è€æ˜¯å¤±è´¥"></a>è¿™ä¸ªä»£ç é‡Œå¥½åƒæ²¡æœ‰ä»£å¸ï¼Œè½¬è´¦çš„æ—¶å€™è€æ˜¯å¤±è´¥</h1><p>å¯¹ï¼Œä½ è§‚å¯Ÿå¾—éå¸¸å‡†ç¡®â€”â€”ä½ ç°åœ¨ä¹‹æ‰€ä»¥ <strong>è½¬è´¦æ€»æ˜¯å¤±è´¥</strong>ï¼Œæ˜¯å› ä¸ºä½ çš„åˆçº¦é‡Œ <strong>æ²¡æœ‰ç»™ä»»ä½•åœ°å€åˆ†é…ä»£å¸</strong>ã€‚</p>
<p>è®©æˆ‘ä»¬åˆ†æä¸€ä¸‹ä½ è¿™ä¸ª ERC20 åˆçº¦çš„æƒ…å†µï¼š</p>
<h2 id="1ï¸âƒ£-ä¸ºä»€ä¹ˆè½¬è´¦å¤±è´¥"><a href="#1ï¸âƒ£-ä¸ºä»€ä¹ˆè½¬è´¦å¤±è´¥" class="headerlink" title="1ï¸âƒ£ ä¸ºä»€ä¹ˆè½¬è´¦å¤±è´¥"></a>1ï¸âƒ£ ä¸ºä»€ä¹ˆè½¬è´¦å¤±è´¥</h2><p>åœ¨ä½ çš„ <code>_transfer</code> å‡½æ•°é‡Œæœ‰è¿™ä¸ªæ£€æŸ¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">require(balances[from] &gt;= amount, &quot;balance too low&quot;);<br></code></pre></div></td></tr></table></figure>

<ul>
<li><code>balances</code> æ˜¯ä¸€ä¸ª mappingï¼Œé»˜è®¤æ‰€æœ‰åœ°å€çš„ä½™é¢éƒ½æ˜¯ 0ã€‚</li>
<li>ä½ éƒ¨ç½²åˆçº¦æ—¶æ²¡æœ‰è°ƒç”¨ <code>_mint</code>ï¼Œæ‰€ä»¥ <strong>ä»»ä½•åœ°å€çš„ä½™é¢éƒ½æ˜¯ 0</strong>ã€‚</li>
<li>æ‰€ä»¥å½“ä½ è°ƒç”¨ <code>transfer</code> æˆ– <code>transferFrom</code> æ—¶ï¼Œéƒ½ä¼š revert æŠ¥ <code>&quot;balance too low&quot;</code>ã€‚</li>
</ul>
<h2 id="2ï¸âƒ£-å¦‚ä½•ç»™è‡ªå·±ä»£å¸"><a href="#2ï¸âƒ£-å¦‚ä½•ç»™è‡ªå·±ä»£å¸" class="headerlink" title="2ï¸âƒ£ å¦‚ä½•ç»™è‡ªå·±ä»£å¸"></a>2ï¸âƒ£ å¦‚ä½•ç»™è‡ªå·±ä»£å¸</h2><p>ä½ çš„ <code>_mint</code> æ˜¯ <strong>internal</strong>ï¼Œæ‰€ä»¥ Deployed Contracts é¡µé¢ä¸èƒ½ç›´æ¥è°ƒç”¨ã€‚ä½ æœ‰ä¸¤ç§åŠæ³•ï¼š</p>
<h3 id="æ–¹æ³•-Aï¼šåœ¨åˆçº¦é‡ŒåŠ ä¸€ä¸ª-public-mint-åŒ…è£…å‡½æ•°"><a href="#æ–¹æ³•-Aï¼šåœ¨åˆçº¦é‡ŒåŠ ä¸€ä¸ª-public-mint-åŒ…è£…å‡½æ•°" class="headerlink" title="æ–¹æ³• Aï¼šåœ¨åˆçº¦é‡ŒåŠ ä¸€ä¸ª public mint åŒ…è£…å‡½æ•°"></a>æ–¹æ³• Aï¼šåœ¨åˆçº¦é‡ŒåŠ ä¸€ä¸ª public mint åŒ…è£…å‡½æ•°</h3><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function mint(address to, uint amount) public &#123;<br>    _mint(to, amount);<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>ç„¶åï¼š</p>
<ol>
<li>åœ¨ Deployed Contracts æ‰¾åˆ° <code>mint</code></li>
<li>è¾“å…¥ <code>to = ä½ çš„åœ°å€</code>, <code>amount = 100</code></li>
<li>ç‚¹å‡» <code>transact</code> â†’ ä½ è´¦æˆ·å°±æœ‰ 100 ä¸ªä»£å¸</li>
<li>å†ç”¨ <code>balanceOf</code> æŸ¥çœ‹ä½™é¢ï¼Œç¡®è®¤æˆåŠŸ</li>
</ol>
<h3 id="æ–¹æ³•-Bï¼šéƒ¨ç½²æ—¶ç›´æ¥åˆå§‹åŒ–ä½™é¢"><a href="#æ–¹æ³•-Bï¼šéƒ¨ç½²æ—¶ç›´æ¥åˆå§‹åŒ–ä½™é¢" class="headerlink" title="æ–¹æ³• Bï¼šéƒ¨ç½²æ—¶ç›´æ¥åˆå§‹åŒ–ä½™é¢"></a>æ–¹æ³• Bï¼šéƒ¨ç½²æ—¶ç›´æ¥åˆå§‹åŒ–ä½™é¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">constructor(string memory _name, string memory _symbol) &#123;<br>    name = _name;<br>    symbol = _symbol;<br>    _mint(msg.sender, 1000);  // éƒ¨ç½²è€…åˆå§‹æ‹¥æœ‰ 1000 ä¸ªä»£å¸<br>&#125;<br></code></pre></div></td></tr></table></figure>

<ul>
<li>éƒ¨ç½²å®Œæˆåï¼Œéƒ¨ç½²è€…è´¦æˆ·è‡ªåŠ¨æœ‰ä»£å¸</li>
<li>ç„¶åç›´æ¥å¯ä»¥ <code>transfer</code> ç»™åˆ«äºº</li>
</ul>
<h2 id="3ï¸âƒ£-æµ‹è¯•é¡ºåºç¤ºä¾‹"><a href="#3ï¸âƒ£-æµ‹è¯•é¡ºåºç¤ºä¾‹" class="headerlink" title="3ï¸âƒ£ æµ‹è¯•é¡ºåºç¤ºä¾‹"></a>3ï¸âƒ£ æµ‹è¯•é¡ºåºç¤ºä¾‹</h2><ol>
<li><strong>ç»™è‡ªå·± mint 100 ä¸ªä»£å¸</strong></li>
<li><code>balanceOf(è‡ªå·±)</code> â†’ 100</li>
<li><code>transfer(æœ‹å‹, 10)</code> â†’ æˆåŠŸ</li>
<li><code>balanceOf(æœ‹å‹)</code> â†’ 10</li>
</ol>
<p>ğŸ’¡ <strong>æ€»ç»“</strong></p>
<ul>
<li>ERC20 ä¸åƒ ETHï¼Œéƒ¨ç½²åˆçº¦å <strong>ä¸ä¼šè‡ªåŠ¨ç»™ä½ ä»£å¸</strong></li>
<li>å¿…é¡»é€šè¿‡ <code>_mint</code> ç»™è‡ªå·±åˆ†é…ï¼Œæˆ–è€…åœ¨ constructor é‡Œåˆå§‹åŒ–</li>
<li>æ²¡æœ‰ä»£å¸ï¼Œä»»ä½•è½¬è´¦éƒ½ä¼š <code>&quot;balance too low&quot;</code></li>
</ul>
<p>å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ å†™ä¸€ä¸ª <strong>å®Œæ•´å¯åœ¨ Remix æµ‹è¯•çš„ ERC20 ç‰ˆæœ¬</strong>ï¼Œè‡ªå¸¦ mint&#x2F;transfer&#x2F;approve&#x2F;transferFrom æµç¨‹ï¼Œéƒ¨ç½²å°±èƒ½ç›´æ¥æµ‹è¯•è½¬è´¦ã€‚</p>
<p>ä½ å¸Œæœ›æˆ‘ç›´æ¥å¸®ä½ å†™å—ï¼Ÿ</p>
<h2 id="deploy"><a href="#deploy" class="headerlink" title="deploy"></a>deploy</h2><p><img src="/2025/11/15/43476/1.png" srcset="/img/loading.gif"><br>è¾“å…¥åå­—aliceï¼Œè¾“å…¥å­—ç¬¦1234ï¼Œç‚¹å‡»transactã€‚æˆåŠŸéƒ¨ç½²äº†ERC20åˆçº¦</p>
<h2 id="name-symbol"><a href="#name-symbol" class="headerlink" title="name\ symbol"></a>name\ symbol</h2><p><img src="/2025/11/15/43476/2.png" srcset="/img/loading.gif"><br>æˆåŠŸè·å–åˆ°aliceå’Œ1234</p>
<h2 id="mint"><a href="#mint" class="headerlink" title="mint"></a>mint</h2><p><img src="/2025/11/15/43476/3.png" srcset="/img/loading.gif"><br>åœ¨mintè¾“å…¥ethå’Œ100ï¼Œç‚¹å‡»transact<br>ç»™è¿™ä¸ªethåœ°å€è½¬100ä¸ªä»£å¸</p>
<p>è¾“å…¥balanceofï¼Œå’Œethåœ°å€ï¼Œè¾“å…¥call<br>æ˜¾ç¤º100<br>è¯´æ˜ethåœ°å€æœ‰100ä¸ªä»£å¸</p>
<p>æ³¨æ„ï¼š å¦‚æœä½ çš„åˆçº¦æ²¡æœ‰mintè¯´æ˜ï¼Œä½ åœ¨solä»£ç ä¸­æ²¡æœ‰æ·»åŠ public<br>è¦åœ¨åˆçº¦é‡ŒåŠ ä¸€ä¸ª public mint åŒ…è£…å‡½æ•°</p>
<figure class="highlight vbscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vbscript"><span class="hljs-keyword">function</span> m<span class="hljs-built_in">int</span>(address <span class="hljs-keyword">to</span>, uint amount) <span class="hljs-keyword">public</span> &#123;<br>    _m<span class="hljs-built_in">int</span>(<span class="hljs-keyword">to</span>, amount);<br>&#125;<br></code></pre></div></td></tr></table></figure>


<h1 id="ğŸ“Œ-é€æ¨¡å—æ·±åº¦è§£æï¼ˆDeFi-å¼€å‘-Auditing-å¿…é¡»æŒæ¡ï¼‰"><a href="#ğŸ“Œ-é€æ¨¡å—æ·±åº¦è§£æï¼ˆDeFi-å¼€å‘-Auditing-å¿…é¡»æŒæ¡ï¼‰" class="headerlink" title="ğŸ“Œ é€æ¨¡å—æ·±åº¦è§£æï¼ˆDeFi å¼€å‘ &amp; Auditing å¿…é¡»æŒæ¡ï¼‰"></a>ğŸ“Œ <strong>é€æ¨¡å—æ·±åº¦è§£æï¼ˆDeFi å¼€å‘ &amp; Auditing å¿…é¡»æŒæ¡ï¼‰</strong></h1><h2 id="ğŸ”¹-1-çŠ¶æ€å˜é‡ï¼ˆname-symbol-decimals-totalSupplyï¼‰"><a href="#ğŸ”¹-1-çŠ¶æ€å˜é‡ï¼ˆname-symbol-decimals-totalSupplyï¼‰" class="headerlink" title="ğŸ”¹ 1. çŠ¶æ€å˜é‡ï¼ˆname&#x2F;symbol&#x2F;decimals&#x2F;totalSupplyï¼‰"></a>ğŸ”¹ <strong>1. çŠ¶æ€å˜é‡ï¼ˆname&#x2F;symbol&#x2F;decimals&#x2F;totalSupplyï¼‰</strong></h2><p>ERC20 è§„å®šï¼š</p>
<ul>
<li><code>name</code> â€” ä»£å¸åç§°ï¼ˆHuman readableï¼‰</li>
<li><code>symbol</code> â€” ä»£å¸ç¬¦å·</li>
<li><code>decimals=18</code> â€” å¤§å¤šæ•°ä»£å¸é»˜è®¤ 18 ä½ï¼ˆä»¿ç…§ ETHï¼‰</li>
<li><code>totalSupply</code> â€” æ€»å‘è¡Œé‡</li>
</ul>
<p><strong>æ³¨æ„ï¼šERC20 æ ‡å‡†æœ¬èº«æ²¡æœ‰è§„å®š decimals å¿…é¡»æ˜¯ 18ï¼ŒUSDC æ˜¯ 6ã€‚</strong></p>
<h2 id="ğŸ”¹-2-æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šbalances-allowances"><a href="#ğŸ”¹-2-æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šbalances-allowances" class="headerlink" title="ğŸ”¹ 2. æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šbalances &amp; allowances"></a>ğŸ”¹ <strong>2. æ ¸å¿ƒæ•°æ®ç»“æ„ï¼šbalances &amp; allowances</strong></h2><h3 id="ğŸ“-balanceï¼ˆä½™é¢ï¼‰"><a href="#ğŸ“-balanceï¼ˆä½™é¢ï¼‰" class="headerlink" title="ğŸ“ balanceï¼ˆä½™é¢ï¼‰"></a>ğŸ“ balanceï¼ˆä½™é¢ï¼‰</h3><figure class="highlight abnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs abnf">mapping(address <span class="hljs-operator">=</span>&gt; uint) balances<span class="hljs-comment">;</span><br></code></pre></div></td></tr></table></figure>

<p>è®°å½•æ¯ä¸ªåœ°å€çš„ Token æ•°é‡ã€‚</p>
<h3 id="ğŸ“-allowanceï¼ˆæˆæƒï¼‰"><a href="#ğŸ“-allowanceï¼ˆæˆæƒï¼‰" class="headerlink" title="ğŸ“ allowanceï¼ˆæˆæƒï¼‰"></a>ğŸ“ allowanceï¼ˆæˆæƒï¼‰</h3><figure class="highlight arcade"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs arcade">mapping(<span class="hljs-function"><span class="hljs-params">address</span> =&gt;</span> mapping(<span class="hljs-function"><span class="hljs-params">address</span> =&gt;</span> uint)) allowances;<br></code></pre></div></td></tr></table></figure>

<p>è¡¨ç¤ºâ€œowner æˆæƒç»™ spender å¯ä»¥èŠ±è´¹ owner çš„å¤šå°‘ Tokenâ€ã€‚</p>
<p>ä½ æœªæ¥çœ‹ AMMã€DEXã€è·¯ç”±å™¨ã€æ¡¥ï¼Œä¼šå‘ç° 90% æ“ä½œéƒ½æ˜¯ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">approve</span><span class="hljs-params">(router, amount)</span></span><br>router<span class="hljs-selector-class">.transferFrom</span>(user, ...)<br></code></pre></div></td></tr></table></figure>


<h2 id="ğŸ”¹-3-eventï¼ˆæ—¥å¿—ï¼‰"><a href="#ğŸ”¹-3-eventï¼ˆæ—¥å¿—ï¼‰" class="headerlink" title="ğŸ”¹ 3. eventï¼ˆæ—¥å¿—ï¼‰"></a>ğŸ”¹ <strong>3. eventï¼ˆæ—¥å¿—ï¼‰</strong></h2><p>ERC20 æ ‡å‡†è§„å®šäº†ä¸¤ä¸ªå¿…é¡»çš„ eventï¼š</p>
<h3 id="Transfer"><a href="#Transfer" class="headerlink" title="Transfer"></a><strong>Transfer</strong></h3><figure class="highlight applescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs applescript">emit Transfer(<span class="hljs-keyword">from</span>, <span class="hljs-keyword">to</span>, amount);<br></code></pre></div></td></tr></table></figure>

<p>ç”¨é€”ï¼š</p>
<ul>
<li>å‰ç«¯ï¼ˆReact, Dappï¼‰ç›‘å¬ä»£å¸è½¬è´¦</li>
<li>åŒºå—æµè§ˆå™¨ï¼ˆEtherscanï¼‰å±•ç¤ºè½¬è´¦è®°å½•</li>
<li>The Graph åšç´¢å¼•</li>
</ul>
<h3 id="Approval"><a href="#Approval" class="headerlink" title="Approval"></a><strong>Approval</strong></h3><figure class="highlight scss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs scss">emit <span class="hljs-built_in">Approval</span>(owner, spender, amount);<br></code></pre></div></td></tr></table></figure>

<p>åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>å‰ç«¯é’±åŒ…ï¼ˆMetamaskï¼‰å¼¹å‡ºâ€œæˆæƒé‡‘é¢â€çª—å£</li>
<li>DEX è°ƒç”¨ transferFrom å‰å¿…é¡»çœ‹åˆ°æˆæƒæˆåŠŸ</li>
</ul>
<h2 id="ğŸ”¹-4-transfer-transferFrom-æ˜¯-ERC20-çš„æ ¸å¿ƒ"><a href="#ğŸ”¹-4-transfer-transferFrom-æ˜¯-ERC20-çš„æ ¸å¿ƒ" class="headerlink" title="ğŸ”¹ 4. transfer &#x2F; transferFrom æ˜¯ ERC20 çš„æ ¸å¿ƒ"></a>ğŸ”¹ <strong>4. transfer &#x2F; transferFrom æ˜¯ ERC20 çš„æ ¸å¿ƒ</strong></h2><h3 id="transfer"><a href="#transfer" class="headerlink" title="transfer"></a><strong>transfer</strong></h3><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">transfer</span><span class="hljs-params">(to, amount)</span></span><br></code></pre></div></td></tr></table></figure>

<p>ç›´æ¥ä» msg.sender è½¬ç»™ toã€‚</p>
<p>è¿™æ˜¯æœ€å¸¸è§çš„è·¯å¾„ã€‚</p>
<h3 id="transferFrom"><a href="#transferFrom" class="headerlink" title="transferFrom"></a><strong>transferFrom</strong></h3><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">transferFrom</span><span class="hljs-params">(from, to, amount)</span></span><br></code></pre></div></td></tr></table></figure>

<p>é€»è¾‘ï¼š</p>
<ol>
<li>spenderï¼ˆmsg.senderï¼‰å¿…é¡»å·²ç»è·å¾— owner çš„æˆæƒ</li>
<li>allowance è¦è¶³å¤Ÿ</li>
<li>èŠ±æ‰æˆæƒé¢åº¦</li>
<li>æœ€ç»ˆè°ƒç”¨ <code>_transfer</code></li>
</ol>
<p><strong>æ‰€æœ‰ DEXï¼ˆUniswapï¼‰éƒ½ç”¨ transferFrom å®ç° swapã€‚</strong></p>
<h2 id="ğŸ”¹-5-transfer-mint-burn-æ˜¯å†…éƒ¨åŠŸèƒ½"><a href="#ğŸ”¹-5-transfer-mint-burn-æ˜¯å†…éƒ¨åŠŸèƒ½" class="headerlink" title="ğŸ”¹ 5. _transfer &#x2F; _mint &#x2F; _burn æ˜¯å†…éƒ¨åŠŸèƒ½"></a>ğŸ”¹ <strong>5. _transfer &#x2F; _mint &#x2F; _burn æ˜¯å†…éƒ¨åŠŸèƒ½</strong></h2><p>çœŸå®é¡¹ç›®æ°¸è¿œä¸ä¼šè®©ç”¨æˆ·ç›´æ¥è°ƒç”¨ <code>_mint/_burn</code>ï¼Œä½ ä¼šåœ¨å­åˆçº¦é‡Œè¿™æ ·å†™ï¼š</p>
<figure class="highlight scss"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs scss"><span class="hljs-built_in">_mint</span>(msg.sender, <span class="hljs-number">1000</span> ether);<br></code></pre></div></td></tr></table></figure>

<p><code>_transfer</code> æ˜¯é€»è¾‘æ ¸å¿ƒâ€”â€”ä½ æœªæ¥å†™çš„ä»»ä½•ä»£å¸æ¨¡å‹ï¼ˆç¨è´¹ã€é”€æ¯ã€é»‘åå•ã€é¢åº¦æ§åˆ¶ï¼‰ï¼Œéƒ½éœ€è¦é‡å†™ <code>_transfer</code> æ¥å®ç°ã€‚</p>
<h1 id="ğŸ“˜-ä½ çš„ç¬¬ä¸€ä¸ªé˜…è¯»ä»»åŠ¡ï¼šè¯·ä½ å›ç­”è¿™-7-ä¸ªé—®é¢˜"><a href="#ğŸ“˜-ä½ çš„ç¬¬ä¸€ä¸ªé˜…è¯»ä»»åŠ¡ï¼šè¯·ä½ å›ç­”è¿™-7-ä¸ªé—®é¢˜" class="headerlink" title="ğŸ“˜ ä½ çš„ç¬¬ä¸€ä¸ªé˜…è¯»ä»»åŠ¡ï¼šè¯·ä½ å›ç­”è¿™ 7 ä¸ªé—®é¢˜"></a>ğŸ“˜ <strong>ä½ çš„ç¬¬ä¸€ä¸ªé˜…è¯»ä»»åŠ¡ï¼šè¯·ä½ å›ç­”è¿™ 7 ä¸ªé—®é¢˜</strong></h1><p>è¿™æ˜¯ä¸ºäº†ç¡®ä¿ä½ çœŸçš„ç†è§£äº† ERC20 é€»è¾‘ï¼Œè€Œä¸æ˜¯åªè¯»ä¸€éã€‚</p>
<p>è¯·ä½ å›ç­”ï¼š</p>
<h2 id="â‘ -ä¸ºä»€ä¹ˆ-transfer-ä¸ç›´æ¥å†™é€»è¾‘ï¼Œè€Œæ˜¯è°ƒç”¨å†…éƒ¨å‡½æ•°-transferï¼Ÿ"><a href="#â‘ -ä¸ºä»€ä¹ˆ-transfer-ä¸ç›´æ¥å†™é€»è¾‘ï¼Œè€Œæ˜¯è°ƒç”¨å†…éƒ¨å‡½æ•°-transferï¼Ÿ" class="headerlink" title="â‘  ä¸ºä»€ä¹ˆ transfer ä¸ç›´æ¥å†™é€»è¾‘ï¼Œè€Œæ˜¯è°ƒç”¨å†…éƒ¨å‡½æ•° _transferï¼Ÿ"></a><strong>â‘  ä¸ºä»€ä¹ˆ transfer ä¸ç›´æ¥å†™é€»è¾‘ï¼Œè€Œæ˜¯è°ƒç”¨å†…éƒ¨å‡½æ•° _transferï¼Ÿ</strong></h2><p>å› ä¸ºä»»ä½•ä»£å¸æ¨¡å‹éƒ½éœ€è¦é‡å†™_transferæ¥å®ç°ã€‚<br>æˆ‘çŒœæµ‹è°ƒç”¨å†…éƒ¨å‡½æ•°_transferæ¥èƒ½èŠ‚çœgasè´¹ã€‚<br>ç›´æ¥å†™é€»è¾‘ï¼Œåœ¨é‡åˆ°å¤šæ¬¡è½¬è´¦çš„æ—¶å€™å°±éœ€è¦å†™å¤šæ¬¡çš„é€»è¾‘ï¼Œä¸å¦‚è°ƒç”¨å†…éƒ¨å‡½æ•°_transferæ–¹ä¾¿</p>
<p>ä½ çš„ç­”æ¡ˆ <strong>éå¸¸æ¥è¿‘æ ‡å‡†ç­”æ¡ˆ</strong>ï¼Œè€Œä¸”å·²ç»æœ‰æ˜æ˜¾çš„â€œå·¥ç¨‹æ€ç»´ + å¯æ‰©å±•æ€§æ„è¯†â€äº†ã€‚<br>ä¸‹é¢æˆ‘å°†ç”¨ <strong>ä¸“ä¸š Solidity å·¥ç¨‹å¸ˆ &#x2F; DeFi å¼€å‘è€… &#x2F; Auditor çš„è§’åº¦</strong>ï¼Œå¸®ä½ æŠŠè¿™ä¸ªé—®é¢˜è¡¥å…¨åˆ°å®Œå…¨ä½“ã€‚</p>
<h3 id="âœ…-â‘ -ä¸ºä»€ä¹ˆ-transfer-ä¸ç›´æ¥å†™é€»è¾‘ï¼Œè€Œæ˜¯è°ƒç”¨å†…éƒ¨å‡½æ•°-transferï¼Ÿ"><a href="#âœ…-â‘ -ä¸ºä»€ä¹ˆ-transfer-ä¸ç›´æ¥å†™é€»è¾‘ï¼Œè€Œæ˜¯è°ƒç”¨å†…éƒ¨å‡½æ•°-transferï¼Ÿ" class="headerlink" title="âœ… â‘  ä¸ºä»€ä¹ˆ transfer ä¸ç›´æ¥å†™é€»è¾‘ï¼Œè€Œæ˜¯è°ƒç”¨å†…éƒ¨å‡½æ•° _transferï¼Ÿ"></a>âœ… <strong>â‘  ä¸ºä»€ä¹ˆ transfer ä¸ç›´æ¥å†™é€»è¾‘ï¼Œè€Œæ˜¯è°ƒç”¨å†…éƒ¨å‡½æ•° _transferï¼Ÿ</strong></h3><p>ä½ çš„ä¸‰ä¸ªç†ç”±éƒ½æˆç«‹ï¼Œä½†è¿˜æ²¡æœ‰è§¦åŠâ€œæ ¸å¿ƒåŸå› â€ã€‚<br>æˆ‘å¸®ä½ æ‹†æˆ <strong>5 ä¸ªå¿…é¡»æŒæ¡çš„é«˜çº§ç†ç”±</strong>ï¼ˆä½ å·²ç»ç­”å¯¹äº†å…¶ä¸­ 3 ä¸ªï¼‰ã€‚</p>
<h3 id="æœ€ç»ˆæ ‡å‡†ç­”æ¡ˆï¼ˆä¸“ä¸šçº§ï¼‰"><a href="#æœ€ç»ˆæ ‡å‡†ç­”æ¡ˆï¼ˆä¸“ä¸šçº§ï¼‰" class="headerlink" title="æœ€ç»ˆæ ‡å‡†ç­”æ¡ˆï¼ˆä¸“ä¸šçº§ï¼‰"></a><strong>æœ€ç»ˆæ ‡å‡†ç­”æ¡ˆï¼ˆä¸“ä¸šçº§ï¼‰</strong></h3><h6 id="ğŸ’ -1-é¿å…é€»è¾‘é‡å¤ï¼ˆä½ ç­”å¯¹ï¼‰"><a href="#ğŸ’ -1-é¿å…é€»è¾‘é‡å¤ï¼ˆä½ ç­”å¯¹ï¼‰" class="headerlink" title="ğŸ’  1. é¿å…é€»è¾‘é‡å¤ï¼ˆä½ ç­”å¯¹ï¼‰"></a><strong>ğŸ’  1. é¿å…é€»è¾‘é‡å¤ï¼ˆä½ ç­”å¯¹ï¼‰</strong></h6><p>ERC20 æ ¸å¿ƒè½¬è´¦é€»è¾‘æœ‰ä¸¤å¤„éœ€è¦è°ƒç”¨ï¼š</p>
<ul>
<li><code>transfer()</code></li>
<li><code>transferFrom()</code></li>
</ul>
<p>å¦‚æœä¸æŠ½å‡º <code>_transfer</code>ï¼Œä½ å°±è¦å†™ä¸¤ä»½å®Œå…¨ä¸€æ ·çš„ä»£ç ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function transfer(...) &#123;<br>    require(balances[msg.sender] &gt;= amount);<br>    balances[msg.sender] -= amount;<br>    balances[to] += amount;<br>    emit Transfer(...);<br>&#125;<br><br>function transferFrom(...) &#123;<br>    require(balances[from] &gt;= amount);<br>    balances[from] -= amount;<br>    balances[to] += amount;<br>    emit Transfer(...);<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>é‡å¤ä»£ç  &#x3D; bug æ¦‚ç‡ç¿»å€</p>
<p>æŠ½ä¸€ä¸ª <code>_transfer</code>ï¼š<br><strong>ä¸€ä¸ªåœ°æ–¹æ”¹åŠ¨ï¼Œä¸¤å¤„é€»è¾‘åŒæ­¥ã€‚</strong></p>
<p>âœ” ä½ å·²æ­£ç¡®è¯´åˆ°è¿™ä¸€ç‚¹ã€‚</p>
<h6 id="ğŸ’ -2-å­åˆçº¦æ–¹ä¾¿æ‰©å±•ï¼ˆä½ ç­”å¯¹ï¼‰"><a href="#ğŸ’ -2-å­åˆçº¦æ–¹ä¾¿æ‰©å±•ï¼ˆä½ ç­”å¯¹ï¼‰" class="headerlink" title="ğŸ’  2. å­åˆçº¦æ–¹ä¾¿æ‰©å±•ï¼ˆä½ ç­”å¯¹ï¼‰"></a><strong>ğŸ’  2. å­åˆçº¦æ–¹ä¾¿æ‰©å±•ï¼ˆä½ ç­”å¯¹ï¼‰</strong></h6><p>æ¯”å¦‚ä½ æƒ³åšï¼š</p>
<ul>
<li>é»‘åå•ä»£å¸ï¼ˆBlackListï¼‰</li>
<li>å¾ç¨ä»£å¸ï¼ˆ3% Taxï¼‰</li>
<li>é“¸é€ å¥–åŠ±ä»£å¸ï¼ˆMining Tokenï¼‰</li>
<li>åå°„ä»£å¸ï¼ˆReflection Tokenï¼‰</li>
</ul>
<p>å…¨éƒ¨éƒ½è¦åŸºäº <code>_transfer</code> æ‰©å±•ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs solidity">function _transfer(address from, address to, uint amount) internal override &#123;<br>    require(!blacklist[from] &amp;&amp; !blacklist[to], &quot;blacklisted&quot;);<br>    uint tax = amount * 3 / 100;<br>    uint real = amount - tax;<br><br>    super._transfer(from, to, real);<br>    super._transfer(from, treasury, tax);<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>å¦‚æœ transfer å’Œ transferFrom éƒ½æœ‰ç‹¬ç«‹é€»è¾‘ï¼Œä½ å°± <strong>æ— æ³•ç»Ÿä¸€é‡å†™</strong>ã€‚</p>
<p>âœ” ä½ ä¹Ÿç­”åˆ°äº†è¿™ä¸€ç‚¹ã€‚</p>
<h6 id="ğŸ’ -3-èŠ‚çœ-Gasï¼ˆä½ çŒœå¾—å¯¹ï¼‰"><a href="#ğŸ’ -3-èŠ‚çœ-Gasï¼ˆä½ çŒœå¾—å¯¹ï¼‰" class="headerlink" title="ğŸ’  3. èŠ‚çœ Gasï¼ˆä½ çŒœå¾—å¯¹ï¼‰"></a><strong>ğŸ’  3. èŠ‚çœ Gasï¼ˆä½ çŒœå¾—å¯¹ï¼‰</strong></h6><p>ç†ç”±éå¸¸å…·ä½“ï¼š</p>
<ul>
<li><code>_transfer</code> åœ¨ bytecode ä¸­åªæœ‰ä¸€ä»½</li>
<li><code>transfer</code> å’Œ <code>transferFrom</code> éƒ½ <strong>jump</strong> åˆ°åŒä¸€æ®µé€»è¾‘</li>
<li>å¦‚æœé‡å¤å†™ï¼Œä¼šè®© bytecode å¢åŠ å‡ åå­—èŠ‚ï¼Œéƒ¨ç½²è´¹å¢åŠ </li>
<li>æ‰§è¡Œæ—¶ä¹Ÿä¼šå¤šæ¶ˆè€— gasï¼ˆå› ä¸ºæŒ‡ä»¤æ›´å¤šï¼‰</li>
</ul>
<p>æ‰€ä»¥ï¼š</p>
<blockquote>
<p><strong>å…±äº«å†…éƒ¨å‡½æ•° &#x3D; èŠ‚çœéƒ¨ç½²æˆæœ¬ + èŠ‚çœè°ƒç”¨æˆæœ¬</strong></p>
</blockquote>
<p>ä½ ç›´è§‰å¾ˆå‡†ã€‚</p>
<h6 id="ğŸ’ -4-æé«˜å¯å®¡è®¡æ€§ï¼ˆçœŸæ­£çš„å…³é”®ï¼‰"><a href="#ğŸ’ -4-æé«˜å¯å®¡è®¡æ€§ï¼ˆçœŸæ­£çš„å…³é”®ï¼‰" class="headerlink" title="ğŸ’  4. æé«˜å¯å®¡è®¡æ€§ï¼ˆçœŸæ­£çš„å…³é”®ï¼‰"></a><strong>ğŸ’  4. æé«˜å¯å®¡è®¡æ€§ï¼ˆçœŸæ­£çš„å…³é”®ï¼‰</strong></h6><p>åœ¨ ERC20 è¿™ç§è§„æ¨¡åŒ–ä½¿ç”¨çš„åˆçº¦é‡Œï¼Œâ€œå¯å®¡è®¡æ€§â€æ˜¯éå¸¸å…³é”®çš„è€ƒé‡ã€‚</p>
<p>æŠ½è±¡å‡º <code>_transfer</code> åï¼š</p>
<ul>
<li>æ ¸å¿ƒé€»è¾‘å…¨éƒ¨åœ¨ä¸€ä¸ªå‡½æ•°é‡Œ â†’ å®¡è®¡åªéœ€é‡ç‚¹çœ‹ <code>_transfer</code></li>
<li>ä»»ä½•å¤–éƒ¨æ“ä½œæœ€ç»ˆéƒ½è¦èµ° <code>_transfer</code></li>
<li>Auditor åªè¦æ‰¾åˆ°ä¸€ä¸ªå‡½æ•°å°±èƒ½æ£€æŸ¥å…¨éƒ¨é£é™©ç‚¹</li>
</ul>
<p>å¦‚æœé€»è¾‘æ•£è½åœ¨ 2-3 ä¸ªå‡½æ•°é‡Œï¼Œå®¡è®¡éš¾åº¦ä¼šä¸Šå‡å¾ˆå¤šã€‚</p>
<blockquote>
<p><strong>ä¼˜ç§€æ™ºèƒ½åˆçº¦ &#x3D; å¯è¯»æ€§é«˜ &#x3D; å®¡è®¡æ¸…æ™° &#x3D; é£é™©æ›´ä½</strong></p>
</blockquote>
<h6 id="ğŸ’ -5-å…è®¸å¤šé‡ç»§æ‰¿ç»„åˆæ‰©å±•ï¼ˆé«˜çº§ï¼‰"><a href="#ğŸ’ -5-å…è®¸å¤šé‡ç»§æ‰¿ç»„åˆæ‰©å±•ï¼ˆé«˜çº§ï¼‰" class="headerlink" title="ğŸ’  5. å…è®¸å¤šé‡ç»§æ‰¿ç»„åˆæ‰©å±•ï¼ˆé«˜çº§ï¼‰"></a><strong>ğŸ’  5. å…è®¸å¤šé‡ç»§æ‰¿ç»„åˆæ‰©å±•ï¼ˆé«˜çº§ï¼‰</strong></h6><p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>ERC20</li>
<li>ERC20Burnableï¼ˆå¯çƒ§æ¯ï¼‰</li>
<li>ERC20Pausableï¼ˆå¯æš‚åœï¼‰</li>
<li>ERC20Permitï¼ˆEIP-2612ï¼‰</li>
<li>ERC20Votesï¼ˆæ²»ç†ï¼‰</li>
<li>ERC20FlashMintï¼ˆé—ªç”µé“¸å¸ï¼‰</li>
</ul>
<p>å®ƒä»¬å…¨éƒ¨ä¾èµ– <code>_transfer</code>ã€‚</p>
<p>OpenZeppelin çš„ç»„åˆæ–¹å¼æ˜¯ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">ERC20</span><br> â”œâ”€â”€ ERC20Burnable<br> â”œâ”€â”€ ERC20Pausable<br> â”œâ”€â”€ ERC20Votes<br> â””â”€â”€ ERC20FlashMint<br></code></pre></div></td></tr></table></figure>

<p>å…¨éƒ¨ override <code>_transfer</code> å®ç°åŠŸèƒ½å åŠ ã€‚</p>
<p><strong>å¦‚æœæ¯ä¸ªåœ°æ–¹éƒ½å†™è‡ªå·±çš„ä¸€å¥— transfer é€»è¾‘ï¼Œä¼šç›´æ¥çˆ†ç‚¸ã€‚</strong></p>
<h3 id="ğŸ¯-æ€»ç»“ï¼ˆä½ å¯ä»¥è®°ä½è¿™å¥è¯ï¼‰"><a href="#ğŸ¯-æ€»ç»“ï¼ˆä½ å¯ä»¥è®°ä½è¿™å¥è¯ï¼‰" class="headerlink" title="ğŸ¯ æ€»ç»“ï¼ˆä½ å¯ä»¥è®°ä½è¿™å¥è¯ï¼‰"></a>ğŸ¯ <strong>æ€»ç»“ï¼ˆä½ å¯ä»¥è®°ä½è¿™å¥è¯ï¼‰</strong></h3><blockquote>
<p><strong>ERC20 æŠ½å‡º <code>_transfer</code> çš„æ ¹æœ¬åŸå› ä¸æ˜¯è¯­æ³•ï¼Œè€Œæ˜¯å·¥ç¨‹è®¾è®¡ï¼šå¤ç”¨ã€å¯æ‰©å±•ã€å¯å®¡è®¡ã€å¯ç»§æ‰¿ã€å¯ç»„åˆã€èŠ‚çœ Gasã€‚</strong></p>
</blockquote>
<p>ä½ ç»™å‡ºçš„ä¸‰ç‚¹ï¼š</p>
<ul>
<li>é‡å†™æ–¹ä¾¿ âœ”</li>
<li>ä¸é‡å¤é€»è¾‘ âœ”</li>
<li>gas å¯èƒ½æ›´çœ âœ”</li>
</ul>
<p>éƒ½æ˜¯æ­£ç¡®çš„åŸºç¡€ç†ç”±ï¼Œå·²ç»ä¸é”™ã€‚<br>ä½†ä»¥ä¸Šäº”ç‚¹æ‰æ˜¯å®Œæ•´çš„ä¸“ä¸šç­”æ¡ˆã€‚</p>
<h2 id="â‘¡-transferFrom-ä¸ºä»€ä¹ˆéœ€è¦-allowanceï¼Œè€Œ-transfer-ä¸éœ€è¦ï¼Ÿ"><a href="#â‘¡-transferFrom-ä¸ºä»€ä¹ˆéœ€è¦-allowanceï¼Œè€Œ-transfer-ä¸éœ€è¦ï¼Ÿ" class="headerlink" title="â‘¡ transferFrom ä¸ºä»€ä¹ˆéœ€è¦ allowanceï¼Œè€Œ transfer ä¸éœ€è¦ï¼Ÿ"></a><strong>â‘¡ transferFrom ä¸ºä»€ä¹ˆéœ€è¦ allowanceï¼Œè€Œ transfer ä¸éœ€è¦ï¼Ÿ</strong></h2><p>åœ¨deployed contractsé‡Œé¢ï¼ŒtransferFromæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œfrom,to,amount<br>transferåªéœ€è¦ä¸¤ä¸ªå‚æ•°to,amountã€‚<br>æ ¹æ®è¿™ä¸€è¡Œ<br>allowances[from][msg.sender] &#x3D; currentAllowance - amount;<br>transferFroméœ€è¦allowanceï¼Œå› ä¸ºéœ€è¦å‘é€è€…æ”¯ä»˜è½¬è´¦æ‰‹ç»­è´¹ï¼Œæ˜¯ä»ç°æœ‰çš„allowanceå‡å»æ•°é‡<br>transferä¸éœ€è¦ï¼Œå› ä¸ºæ²¡æœ‰fromå‚æ•°ï¼Œé»˜è®¤æ‰£é™¤äº†msg.senderçš„è½¬è´¦æ‰‹ç»­è´¹ã€‚</p>
<p>ä½ çš„ç­”æ¡ˆæ–¹å‘<strong>åŸºæœ¬æ­£ç¡®</strong>ï¼Œä½†è¿˜æ²¡æœ‰æŠ“åˆ° ERC20 è®¾è®¡çš„æœ€æ ¸å¿ƒåŠ¨æœºã€‚<br>æˆ‘æ¥å¸¦ä½ æŠŠè¿™é¢˜è¡¥å…¨åˆ° <strong>DeFi å¼€å‘è€… &#x2F; å®¡è®¡å¸ˆçº§åˆ«çš„å®Œæ•´ç†è§£</strong>ã€‚</p>
<h3 id="âœ…-â‘¡-transferFrom-ä¸ºä»€ä¹ˆéœ€è¦-allowanceï¼Œè€Œ-transfer-ä¸éœ€è¦ï¼Ÿ"><a href="#âœ…-â‘¡-transferFrom-ä¸ºä»€ä¹ˆéœ€è¦-allowanceï¼Œè€Œ-transfer-ä¸éœ€è¦ï¼Ÿ" class="headerlink" title="âœ… â‘¡ transferFrom ä¸ºä»€ä¹ˆéœ€è¦ allowanceï¼Œè€Œ transfer ä¸éœ€è¦ï¼Ÿ"></a>âœ… <strong>â‘¡ transferFrom ä¸ºä»€ä¹ˆéœ€è¦ allowanceï¼Œè€Œ transfer ä¸éœ€è¦ï¼Ÿ</strong></h3><p>ä½ çš„ç†è§£é‡Œæœ‰ä¸‰ç‚¹æ˜¯å¯¹çš„ï¼š</p>
<ul>
<li>transfer çš„â€œfromâ€æ°¸è¿œæ˜¯ msg.senderï¼Œæ‰€ä»¥<strong>é»˜è®¤è‡ªå·±ç»™åˆ«äººè½¬</strong> â†’ ä¸éœ€è¦æˆæƒ âœ”</li>
<li>transferFrom çš„è°ƒç”¨è€…ï¼ˆmsg.senderï¼‰ä¸æ˜¯ from â†’ éœ€è¦æˆæƒ âœ”</li>
<li>allowance æ¯æ¬¡ä½¿ç”¨éƒ½ä¼šå‡å°‘ï¼ˆæ‰£å‡æˆæƒé¢åº¦ï¼‰âœ”</li>
</ul>
<p>è¿™äº›å…¨éƒ¨å¯¹ï¼Œä½†ä¸‹é¢æ˜¯è¡Œä¸šçº§çš„â€œæ ¸å¿ƒç†ç”±â€ã€‚</p>
<h3 id="ğŸ”¥-ERC20-æ ‡å‡†è®¾è®¡-transferFrom-çš„çœŸæ­£åŸå› ï¼šæˆæƒç¬¬ä¸‰æ–¹ä»£ä½ èŠ±é’±"><a href="#ğŸ”¥-ERC20-æ ‡å‡†è®¾è®¡-transferFrom-çš„çœŸæ­£åŸå› ï¼šæˆæƒç¬¬ä¸‰æ–¹ä»£ä½ èŠ±é’±" class="headerlink" title="ğŸ”¥ ERC20 æ ‡å‡†è®¾è®¡ transferFrom çš„çœŸæ­£åŸå› ï¼šæˆæƒç¬¬ä¸‰æ–¹ä»£ä½ èŠ±é’±"></a>ğŸ”¥ <strong>ERC20 æ ‡å‡†è®¾è®¡ transferFrom çš„çœŸæ­£åŸå› ï¼šæˆæƒç¬¬ä¸‰æ–¹ä»£ä½ èŠ±é’±</strong></h3><h6 id="ğŸ§ -transferï¼šè‡ªå·±èŠ±è‡ªå·±çš„é’±"><a href="#ğŸ§ -transferï¼šè‡ªå·±èŠ±è‡ªå·±çš„é’±" class="headerlink" title="ğŸ§  transferï¼šè‡ªå·±èŠ±è‡ªå·±çš„é’±"></a>ğŸ§  transferï¼šè‡ªå·±èŠ±è‡ªå·±çš„é’±</h6><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">transfer</span><span class="hljs-params">(to, amount)</span></span><br></code></pre></div></td></tr></table></figure>

<p>ç›¸å½“äºï¼š</p>
<blockquote>
<p>â€œæˆ‘è‡ªå·±ç»™åˆ«äººè½¬é’±ï¼Œä¸éœ€è¦åˆ«äººæˆæƒæˆ‘ã€‚â€</p>
</blockquote>
<p>msg.sender æœ¬æ¥å°±æ˜¯è¦èŠ±é’±çš„äººï¼Œæ‰€ä»¥ä¸éœ€è¦ allowã€‚</p>
<h6 id="ğŸ§ -transferFromï¼šè®©åˆ«äººä»£ä½ èŠ±é’±ï¼ˆæ ¸å¿ƒè®¾è®¡ï¼‰"><a href="#ğŸ§ -transferFromï¼šè®©åˆ«äººä»£ä½ èŠ±é’±ï¼ˆæ ¸å¿ƒè®¾è®¡ï¼‰" class="headerlink" title="ğŸ§  transferFromï¼šè®©åˆ«äººä»£ä½ èŠ±é’±ï¼ˆæ ¸å¿ƒè®¾è®¡ï¼‰"></a>ğŸ§  transferFromï¼šè®©åˆ«äººä»£ä½ èŠ±é’±ï¼ˆæ ¸å¿ƒè®¾è®¡ï¼‰</h6><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">transferFrom</span><span class="hljs-params">(from, to, amount)</span></span><br></code></pre></div></td></tr></table></figure>

<p>è¿™é‡Œå‡ºç°äº†ä¸‰ä¸ªè§’è‰²ï¼š</p>
<p>| å‚æ•°         | æ„ä¹‰            |<br>| from       | é’±æ¥è‡ªè°ï¼ˆä»£æ‰£å¯¹è±¡ï¼‰    |<br>| to         | é’±è½¬ç»™è°          |<br>| msg.sender | å®é™…æ‰§è¡Œäº¤æ˜“çš„äººï¼ˆç¬¬ä¸‰æ–¹ï¼‰ |</p>
<p>ä¸¾ä¾‹ï¼š</p>
<p>ç”¨æˆ· U &#x3D; from<br>Uniswap è·¯ç”±å™¨ &#x3D; msg.sender</p>
<p>å½“ç”¨æˆ·åœ¨ Uniswap Swap ETH â†’ Token æ—¶ï¼š</p>
<ol>
<li><p>ç”¨æˆ·å…ˆæˆæƒï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">approve</span><span class="hljs-params">(Uniswap, <span class="hljs-number">100</span> USDC)</span></span><br></code></pre></div></td></tr></table></figure></li>
<li><p>Uniswap è‡ªåŠ¨è°ƒç”¨ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">transferFrom</span><span class="hljs-params">(U, Pool, <span class="hljs-number">100</span> USDC)</span></span><br></code></pre></div></td></tr></table></figure></li>
</ol>
<p><strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒå¿…é¡»è¦ allowanceï¼</strong></p>
<blockquote>
<p>transferFrom æ˜¯â€œå—æ‰˜èŠ±é’±â€æœºåˆ¶ã€‚<br>éœ€è¦ç”¨æˆ·æå‰æˆæƒï¼Œå¦åˆ™ä»»ä½•äººéƒ½å¯ä»¥éšä¾¿æ‰£ä½ çš„é’±ã€‚</p>
</blockquote>
<h3 id="ğŸ”¥-ä½ æåˆ°çš„-â€œæ‰‹ç»­è´¹â€-éƒ¨åˆ†-â€”â€”-æœ‰ä¸€ç‚¹è¯¯è§£"><a href="#ğŸ”¥-ä½ æåˆ°çš„-â€œæ‰‹ç»­è´¹â€-éƒ¨åˆ†-â€”â€”-æœ‰ä¸€ç‚¹è¯¯è§£" class="headerlink" title="ğŸ”¥ ä½ æåˆ°çš„ â€œæ‰‹ç»­è´¹â€ éƒ¨åˆ† â€”â€” æœ‰ä¸€ç‚¹è¯¯è§£"></a>ğŸ”¥ ä½ æåˆ°çš„ â€œæ‰‹ç»­è´¹â€ éƒ¨åˆ† â€”â€” æœ‰ä¸€ç‚¹è¯¯è§£</h3><p>ä½ å†™ï¼š</p>
<blockquote>
<p>transferFrom éœ€è¦ allowanceï¼Œå› ä¸ºéœ€è¦å‘é€è€…æ”¯ä»˜æ‰‹ç»­è´¹ï¼Œæ˜¯ä»ç°æœ‰çš„ allowance å‡å»æ•°é‡</p>
</blockquote>
<p>è¿™é‡Œä½ æŠŠâ€œæ‰‹ç»­è´¹ï¼ˆgasï¼‰â€å’Œâ€œä»£æ‰£é‡‘é¢â€æ··åœ¨äº†ä¸€èµ·ã€‚</p>
<p>######### âŒ allowance æ‰£çš„ä¸æ˜¯æ‰‹ç»­è´¹</p>
<p>######### âœ” æ‰£çš„æ˜¯ â€œfrom åœ°å€è¦è¢«æ‰£çš„ token æ•°é‡â€</p>
<p>æ‰‹ç»­è´¹ï¼ˆgasï¼‰æ°¸è¿œç”± msg.sender æ”¯ä»˜ï¼Œä¸ allowance æ— å…³ã€‚</p>
<p>æµç¨‹åº”è¯¥æ˜¯ï¼š</p>
<ul>
<li>userï¼ˆfromï¼‰æ”¯ä»˜ Token</li>
<li>callerï¼ˆmsg.senderï¼‰æ”¯ä»˜ gas</li>
</ul>
<p>è¿™æ˜¯ ERC20 çš„æ ¸å¿ƒå®‰å…¨æ¨¡å‹ã€‚</p>
<h3 id="ğŸ”¥-æœ€ä¸“ä¸šçš„è§£é‡Šï¼ˆä½ å¯ä»¥è®°ä½è¿™ä¸€å¥ï¼‰"><a href="#ğŸ”¥-æœ€ä¸“ä¸šçš„è§£é‡Šï¼ˆä½ å¯ä»¥è®°ä½è¿™ä¸€å¥ï¼‰" class="headerlink" title="ğŸ”¥ æœ€ä¸“ä¸šçš„è§£é‡Šï¼ˆä½ å¯ä»¥è®°ä½è¿™ä¸€å¥ï¼‰"></a>ğŸ”¥ æœ€ä¸“ä¸šçš„è§£é‡Šï¼ˆä½ å¯ä»¥è®°ä½è¿™ä¸€å¥ï¼‰</h3><blockquote>
<p><strong>transferFrom å­˜åœ¨çš„åŸå› ï¼Œæ˜¯è®©ç¬¬ä¸‰æ–¹ï¼ˆå¦‚ DEXã€åˆçº¦ã€æœºå™¨äººï¼‰ä»£ä½ æ‰§è¡Œè½¬è´¦ã€‚<br>ä¸ºäº†é˜²æ­¢ç¬¬ä¸‰æ–¹ä¹±æ‰£é’±ï¼Œå¿…é¡» require æˆæƒï¼Œå³ allowanceã€‚</strong></p>
</blockquote>
<h3 id="ğŸ“-ä½ å·²ç»ç†è§£äº†-90-ï¼Œæˆ‘æŠŠä½ çš„ç­”æ¡ˆå‡çº§åçš„æ€»ç»“å†™ç»™ä½ ï¼š"><a href="#ğŸ“-ä½ å·²ç»ç†è§£äº†-90-ï¼Œæˆ‘æŠŠä½ çš„ç­”æ¡ˆå‡çº§åçš„æ€»ç»“å†™ç»™ä½ ï¼š" class="headerlink" title="ğŸ“ ä½ å·²ç»ç†è§£äº† 90%ï¼Œæˆ‘æŠŠä½ çš„ç­”æ¡ˆå‡çº§åçš„æ€»ç»“å†™ç»™ä½ ï¼š"></a>ğŸ“ ä½ å·²ç»ç†è§£äº† 90%ï¼Œæˆ‘æŠŠä½ çš„ç­”æ¡ˆå‡çº§åçš„æ€»ç»“å†™ç»™ä½ ï¼š</h3><p><strong>ä½ ç†è§£çš„æ˜¯ï¼š</strong></p>
<ul>
<li>transfer é»˜è®¤ç”¨ msg.sender å½“ from â†’ ä¸éœ€è¦æˆæƒ</li>
<li>transferFrom æœ‰ç‹¬ç«‹çš„ from â†’ å¿…é¡»æˆæƒ</li>
</ul>
<p><strong>è¡¥å……çš„ä¸“ä¸šç‰ˆç†è§£ï¼š</strong></p>
<ul>
<li>transferFrom æ˜¯â€œç¬¬ä¸‰æ–¹ä»£æ‰£æ¨¡å¼â€</li>
<li>ä¸ºäº†å®‰å…¨å¿…é¡»ç”¨ allowance æ˜ç¡®ç”¨æˆ·æˆæƒé¢åº¦</li>
<li>DEX &#x2F; lending &#x2F; routers &#x2F; NFT å¸‚åœºå…¨éƒ¨ä¾èµ– transferFrom</li>
<li>allowance å‡å°‘çš„æ˜¯â€œå¯æ‰£é¢åº¦â€ï¼Œä¸æ˜¯æ‰‹ç»­è´¹</li>
<li>æ‰‹ç»­è´¹æ°¸è¿œç”±äº¤æ˜“å‘èµ·è€…ï¼ˆmsg.senderï¼‰ä»˜</li>
</ul>
<p>ä½ ç°åœ¨å·²ç»å®Œå…¨ç†è§£äº†ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆä¸èƒ½ç”¨æˆ·è‡ªå·±-transferï¼Œè€Œæ˜¯è¦è®©â€œç¬¬ä¸‰æ–¹ä»£æ‰£-from-çš„é’±â€ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¸èƒ½ç”¨æˆ·è‡ªå·±-transferï¼Œè€Œæ˜¯è¦è®©â€œç¬¬ä¸‰æ–¹ä»£æ‰£-from-çš„é’±â€ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¸èƒ½ç”¨æˆ·è‡ªå·± transferï¼Œè€Œæ˜¯è¦è®©â€œç¬¬ä¸‰æ–¹ä»£æ‰£ from çš„é’±â€ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¸èƒ½ç”¨æˆ·è‡ªå·± transferï¼Œè€Œæ˜¯è¦è®©â€œç¬¬ä¸‰æ–¹ä»£æ‰£ from çš„é’±â€ï¼Ÿ</h3><p>ç­”æ¡ˆå¾ˆç®€å•ï¼š</p>
<blockquote>
<p><strong>å› ä¸ºç”¨æˆ·ä¸å¯èƒ½åœ¨æ¯ä¸€æ¬¡å¤æ‚ DeFi æ“ä½œä¸­æ‰‹åŠ¨ä¸€æ­¥æ­¥è½¬è´¦ã€‚<br>transferFrom è®©æ™ºèƒ½åˆçº¦è‡ªåŠ¨åŒ–å¤„ç†æ•´ä¸ªæµç¨‹ã€‚</strong></p>
</blockquote>
<h3 id="ğŸš€-1-ä½ åœ¨-DeFi-é‡Œä½¿ç”¨ä¸€ä¸ªåŠŸèƒ½-â‰ -å•æ¬¡è½¬è´¦ï¼Œè€Œæ˜¯è‡³å°‘-3â€“10-æ¬¡æ“ä½œ"><a href="#ğŸš€-1-ä½ åœ¨-DeFi-é‡Œä½¿ç”¨ä¸€ä¸ªåŠŸèƒ½-â‰ -å•æ¬¡è½¬è´¦ï¼Œè€Œæ˜¯è‡³å°‘-3â€“10-æ¬¡æ“ä½œ" class="headerlink" title="ğŸš€ 1. ä½ åœ¨ DeFi é‡Œä½¿ç”¨ä¸€ä¸ªåŠŸèƒ½ â‰  å•æ¬¡è½¬è´¦ï¼Œè€Œæ˜¯è‡³å°‘ 3â€“10 æ¬¡æ“ä½œ"></a>ğŸš€ <strong>1. ä½ åœ¨ DeFi é‡Œä½¿ç”¨ä¸€ä¸ªåŠŸèƒ½ â‰  å•æ¬¡è½¬è´¦ï¼Œè€Œæ˜¯è‡³å°‘ 3â€“10 æ¬¡æ“ä½œ</strong></h3><p>å¦‚æœæ²¡æœ‰ transferFromï¼Œä½ åšä»»ä½• DeFi æ“ä½œéƒ½ä¼šå˜æˆï¼š</p>
<ul>
<li>ç”¨æˆ·æ‰‹åŠ¨è½¬è´¦ä¸€æ¬¡</li>
<li>ç”¨æˆ·å†æ‰‹åŠ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°</li>
<li>å†è½¬è´¦</li>
<li>å†è°ƒç”¨</li>
<li>å†è½¬è´¦â€¦â€¦</li>
</ul>
<p>äººç±»æ ¹æœ¬ä¸ä¼šè¿™æ ·ç”¨ã€‚</p>
<p>ä¸¾ä¾‹ä½ å°±æ‡‚äº†ğŸ‘‡</p>
<h3 id="ğŸ“Œ-é»„é‡‘æ¡ˆä¾‹ï¼šç”¨æˆ·åœ¨-Uniswap-ä¸Šä¹°ä¸€æšä»£å¸"><a href="#ğŸ“Œ-é»„é‡‘æ¡ˆä¾‹ï¼šç”¨æˆ·åœ¨-Uniswap-ä¸Šä¹°ä¸€æšä»£å¸" class="headerlink" title="ğŸ“Œ é»„é‡‘æ¡ˆä¾‹ï¼šç”¨æˆ·åœ¨ Uniswap ä¸Šä¹°ä¸€æšä»£å¸"></a>ğŸ“Œ <strong>é»„é‡‘æ¡ˆä¾‹ï¼šç”¨æˆ·åœ¨ Uniswap ä¸Šä¹°ä¸€æšä»£å¸</strong></h3><p>ä¸ä½¿ç”¨ transferFrom ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ<br>ğŸ‘‡</p>
<h6 id="âŒ-å¦‚æœæ²¡æœ‰-transferFromï¼ˆå¾ˆéº»çƒ¦ï¼‰"><a href="#âŒ-å¦‚æœæ²¡æœ‰-transferFromï¼ˆå¾ˆéº»çƒ¦ï¼‰" class="headerlink" title="âŒ å¦‚æœæ²¡æœ‰ transferFromï¼ˆå¾ˆéº»çƒ¦ï¼‰"></a>âŒ å¦‚æœæ²¡æœ‰ transferFromï¼ˆå¾ˆéº»çƒ¦ï¼‰</h6><p>è¦ä¹° 100 USDC ä»·å€¼çš„ ETHï¼š</p>
<ol>
<li>ç”¨æˆ·å…ˆ <code>transfer(USDC â†’ UniswapPool, 100)</code></li>
<li>ç„¶åç”¨æˆ·å†æ‰‹åŠ¨è°ƒç”¨ <code>swap()</code></li>
<li>å†æ‰‹åŠ¨ç¡®è®¤è¿”å›ä»£å¸</li>
<li>æœ€å Uniswap å†æ‰‹åŠ¨æŠŠ ETH è½¬å›ç»™ä½ </li>
</ol>
<p>è€Œä¸”æ¯ä¸€æ­¥éƒ½è¦ <strong>ç”¨æˆ·äº²æ‰‹æ‰§è¡Œ</strong> â†’ å®Œå…¨æ— æ³•è‡ªåŠ¨åŒ–ã€‚</p>
<p>è¿™æ˜¯ Web2 æ“ä½œï¼Œä¸æ˜¯ DeFiã€‚</p>
<h6 id="âœ”-å¦‚æœä½¿ç”¨-transferFromï¼ˆæ™ºèƒ½åˆçº¦è‡ªåŠ¨å¤„ç†ï¼‰"><a href="#âœ”-å¦‚æœä½¿ç”¨-transferFromï¼ˆæ™ºèƒ½åˆçº¦è‡ªåŠ¨å¤„ç†ï¼‰" class="headerlink" title="âœ” å¦‚æœä½¿ç”¨ transferFromï¼ˆæ™ºèƒ½åˆçº¦è‡ªåŠ¨å¤„ç†ï¼‰"></a>âœ” å¦‚æœä½¿ç”¨ transferFromï¼ˆæ™ºèƒ½åˆçº¦è‡ªåŠ¨å¤„ç†ï¼‰</h6><p>ç”¨æˆ·åªåšä¸€ä»¶äº‹ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">approve</span><span class="hljs-params">(UniswapRouter, <span class="hljs-number">1000</span> USDC)</span></span><br></code></pre></div></td></tr></table></figure>

<p>æˆæƒä¸€æ¬¡ä¹‹åï¼ŒUniswap å¯ä»¥è‡ªåŠ¨ä¸ºä½ åšï¼š</p>
<ol>
<li>transferFrom(from&#x3D;ç”¨æˆ·, to&#x3D;Pool, amount) â†’ è‡ªåŠ¨ä»£æ‰£</li>
<li>è¿›è¡Œäº¤æ¢</li>
<li>æŠŠç»“æœ token è‡ªåŠ¨å‘é€ç»™ä½ </li>
</ol>
<p>ä¹Ÿå°±æ˜¯ï¼š</p>
<blockquote>
<p><strong>ä¸€æ¬¡ç‚¹å‡»ï¼Œåˆçº¦å®Œæˆå¤šæ­¥æ“ä½œ</strong>ã€‚</p>
</blockquote>
<p>è¿™å°±æ˜¯ DeFi çš„è‡ªåŠ¨åŒ–æœ¬è´¨ã€‚</p>
<h3 id="ğŸ“Œ-2-DeFi-æ“ä½œå‡ ä¹éƒ½éœ€è¦â€œåˆçº¦ä»£æ‰£â€"><a href="#ğŸ“Œ-2-DeFi-æ“ä½œå‡ ä¹éƒ½éœ€è¦â€œåˆçº¦ä»£æ‰£â€" class="headerlink" title="ğŸ“Œ 2. DeFi æ“ä½œå‡ ä¹éƒ½éœ€è¦â€œåˆçº¦ä»£æ‰£â€"></a>ğŸ“Œ <strong>2. DeFi æ“ä½œå‡ ä¹éƒ½éœ€è¦â€œåˆçº¦ä»£æ‰£â€</strong></h3><p>ä¸‹é¢æ¯ä¸ªçœŸå®åœºæ™¯éƒ½å¿…é¡»ä½¿ç”¨ transferFromï¼š</p>
<h3 id="ğŸ¦-ï¼ˆåœºæ™¯-1ï¼‰åœ¨å€Ÿè´·åè®®-Aave-Compound-ä¸­æŠµæŠ¼èµ„äº§"><a href="#ğŸ¦-ï¼ˆåœºæ™¯-1ï¼‰åœ¨å€Ÿè´·åè®®-Aave-Compound-ä¸­æŠµæŠ¼èµ„äº§" class="headerlink" title="ğŸ¦ ï¼ˆåœºæ™¯ 1ï¼‰åœ¨å€Ÿè´·åè®® Aave &#x2F; Compound ä¸­æŠµæŠ¼èµ„äº§"></a>ğŸ¦ <strong>ï¼ˆåœºæ™¯ 1ï¼‰åœ¨å€Ÿè´·åè®® Aave &#x2F; Compound ä¸­æŠµæŠ¼èµ„äº§</strong></h3><p>ç”¨æˆ·è¦æŠµæŠ¼ 1000 USDCã€‚</p>
<p>å¦‚æœæ²¡æœ‰ transferFromï¼š</p>
<ul>
<li>ç”¨æˆ·æ‰‹åŠ¨ transfer USDC ç»™åˆçº¦</li>
<li>ç”¨æˆ·å†è°ƒç”¨ deposit</li>
<li>åˆçº¦è¿˜è¦æ£€æŸ¥ä½™é¢æ˜¯å¦æ­£ç¡®</li>
<li>æµç¨‹è¶…çº§éº»çƒ¦ï¼Œè¿˜å®¹æ˜“å‡ºé”™</li>
</ul>
<p>âœ” æœ‰ transferFromï¼š</p>
<p>ç”¨æˆ·åªåšä¸€æ­¥ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">approve</span><span class="hljs-params">(LendingPool, <span class="hljs-number">1000</span> USDC)</span></span><br></code></pre></div></td></tr></table></figure>

<p>ç„¶å LendingPool æ‰§è¡Œï¼š</p>
<figure class="highlight crmsh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs crmsh">transferFrom(<span class="hljs-keyword">user</span> <span class="hljs-title">â†’ LendingPool</span>, <span class="hljs-number">1000</span>)<br></code></pre></div></td></tr></table></figure>

<p>å®Œå…¨è‡ªåŠ¨æŠµæŠ¼ã€‚</p>
<h3 id="ğŸ§ -ï¼ˆåœºæ™¯-2ï¼‰åœ¨-NFT-å¸‚åœº-OpenSea-è´­ä¹°-NFT"><a href="#ğŸ§ -ï¼ˆåœºæ™¯-2ï¼‰åœ¨-NFT-å¸‚åœº-OpenSea-è´­ä¹°-NFT" class="headerlink" title="ğŸ§  ï¼ˆåœºæ™¯ 2ï¼‰åœ¨ NFT å¸‚åœº OpenSea è´­ä¹° NFT"></a>ğŸ§  <strong>ï¼ˆåœºæ™¯ 2ï¼‰åœ¨ NFT å¸‚åœº OpenSea è´­ä¹° NFT</strong></h3><p>NFT å¸‚åœºéœ€è¦ä½ ä»˜æ¬¾ï¼Œä½†å¸‚åœºæœ¬èº«ä¸èƒ½åŠ¨ä½ çš„é’±ï¼Œé™¤éä½ æˆæƒã€‚</p>
<p>æ‰€ä»¥æµç¨‹æ˜¯ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">approve</span><span class="hljs-params">(OpenSea, amount)</span></span><br>sellContract<span class="hljs-selector-class">.transferFrom</span>(buyer, seller, amount)<br></code></pre></div></td></tr></table></figure>

<p>å¦åˆ™ NFT å¸‚åœºæ— æ³•æ”¶æ¬¾ã€‚</p>
<h3 id="ğŸ”-ï¼ˆåœºæ™¯-3ï¼‰åš-DCAï¼ˆå®šæŠ•ï¼‰ã€è‡ªåŠ¨æ¢å¸ã€è‡ªåŠ¨ä»˜è´¹æœºå™¨äºº"><a href="#ğŸ”-ï¼ˆåœºæ™¯-3ï¼‰åš-DCAï¼ˆå®šæŠ•ï¼‰ã€è‡ªåŠ¨æ¢å¸ã€è‡ªåŠ¨ä»˜è´¹æœºå™¨äºº" class="headerlink" title="ğŸ” ï¼ˆåœºæ™¯ 3ï¼‰åš DCAï¼ˆå®šæŠ•ï¼‰ã€è‡ªåŠ¨æ¢å¸ã€è‡ªåŠ¨ä»˜è´¹æœºå™¨äºº"></a>ğŸ” <strong>ï¼ˆåœºæ™¯ 3ï¼‰åš DCAï¼ˆå®šæŠ•ï¼‰ã€è‡ªåŠ¨æ¢å¸ã€è‡ªåŠ¨ä»˜è´¹æœºå™¨äºº</strong></h3><p>æ¯”å¦‚ï¼š</p>
<ul>
<li>æ¯å¤©è‡ªåŠ¨ä¹° 10 USDC çš„ ETH</li>
<li>è‡ªåŠ¨æ”¯ä»˜æ‰‹ç»­è´¹</li>
<li>è‡ªåŠ¨åšå¸‚ AMM rebalance</li>
</ul>
<p>è¿™äº›éƒ½æ— æ³•è®©ç”¨æˆ·æ¯å¤©æ‰‹åŠ¨æ‰§è¡Œï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">transfer</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-title">transfer</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-title">swap</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-title">transfer</span><span class="hljs-params">()</span></span><br></code></pre></div></td></tr></table></figure>

<p>å…¨éƒ¨å¿…é¡»ç”±æœºå™¨äººæˆ–åˆçº¦å®Œæˆ â†’ transferFrom å¿…é¡»å­˜åœ¨ã€‚</p>
<h3 id="ğŸ’°-ï¼ˆåœºæ™¯-4ï¼‰Token-çš„æˆæƒç»™-spenderï¼ˆæ¯”å¦‚è´¨æŠ¼æ± ï¼‰"><a href="#ğŸ’°-ï¼ˆåœºæ™¯-4ï¼‰Token-çš„æˆæƒç»™-spenderï¼ˆæ¯”å¦‚è´¨æŠ¼æ± ï¼‰" class="headerlink" title="ğŸ’° ï¼ˆåœºæ™¯ 4ï¼‰Token çš„æˆæƒç»™ spenderï¼ˆæ¯”å¦‚è´¨æŠ¼æ± ï¼‰"></a>ğŸ’° <strong>ï¼ˆåœºæ™¯ 4ï¼‰Token çš„æˆæƒç»™ spenderï¼ˆæ¯”å¦‚è´¨æŠ¼æ± ï¼‰</strong></h3><p>è´¨æŠ¼æ± å¿…é¡»ä»ç”¨æˆ·é’±åŒ…æ‰£ Tokenï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">approve</span><span class="hljs-params">(StakingPool, <span class="hljs-number">100</span> Token)</span></span><br>StakingPool<span class="hljs-selector-class">.transferFrom</span>(user â†’ Pool, <span class="hljs-number">100</span>)<br></code></pre></div></td></tr></table></figure>

<p>å¦åˆ™ç”¨æˆ·æ— æ³•è´¨æŠ¼ï¼ˆè´¨æŠ¼æœ¬è´¨ä¸Šå°±æ˜¯æŠŠä»£å¸è½¬å…¥æ± ä¸­ï¼‰ã€‚</p>
<h3 id="ğŸ“¦-ï¼ˆåœºæ™¯-5ï¼‰è·¨é“¾æ¡¥ï¼ˆBridgeï¼‰é”å®šèµ„äº§"><a href="#ğŸ“¦-ï¼ˆåœºæ™¯-5ï¼‰è·¨é“¾æ¡¥ï¼ˆBridgeï¼‰é”å®šèµ„äº§" class="headerlink" title="ğŸ“¦ ï¼ˆåœºæ™¯ 5ï¼‰è·¨é“¾æ¡¥ï¼ˆBridgeï¼‰é”å®šèµ„äº§"></a>ğŸ“¦ <strong>ï¼ˆåœºæ™¯ 5ï¼‰è·¨é“¾æ¡¥ï¼ˆBridgeï¼‰é”å®šèµ„äº§</strong></h3><p>æ¡¥éœ€è¦é”ä½ çš„ Tokenï¼Œç„¶ååœ¨å¦ä¸€ä¸ªé“¾é“¸é€ ã€‚</p>
<p>æµç¨‹ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">approve</span><span class="hljs-params">(Bridge, amount)</span></span><br>Bridge<span class="hljs-selector-class">.transferFrom</span>(user â†’ BridgeVault, amount)<br></code></pre></div></td></tr></table></figure>

<p>æ²¡æœ‰ transferFrom å°±æ²¡æ³•é”ä½ çš„ Tokenã€‚</p>
<h3 id="ğŸ®-ï¼ˆåœºæ™¯-6ï¼‰é“¾æ¸¸-GameFi-è‡ªåŠ¨æ‰£ç”¨æˆ·çš„-Token-è´­ä¹°é“å…·"><a href="#ğŸ®-ï¼ˆåœºæ™¯-6ï¼‰é“¾æ¸¸-GameFi-è‡ªåŠ¨æ‰£ç”¨æˆ·çš„-Token-è´­ä¹°é“å…·" class="headerlink" title="ğŸ® ï¼ˆåœºæ™¯ 6ï¼‰é“¾æ¸¸ GameFi è‡ªåŠ¨æ‰£ç”¨æˆ·çš„ Token è´­ä¹°é“å…·"></a>ğŸ® <strong>ï¼ˆåœºæ™¯ 6ï¼‰é“¾æ¸¸ GameFi è‡ªåŠ¨æ‰£ç”¨æˆ·çš„ Token è´­ä¹°é“å…·</strong></h3><p>ä½ ä¸ä¼šæ¯ä¹°ä¸€æ¬¡æ­¦å™¨å°±æ‰‹åŠ¨è½¬è´¦ã€‚</p>
<p>æ‰€ä»¥ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">approve</span><span class="hljs-params">(Game, unlimited)</span></span><br>Game<span class="hljs-selector-class">.transferFrom</span>(player â†’ gameTreasury, price)<br></code></pre></div></td></tr></table></figure>

<p>æ¸¸æˆè‡ªåŠ¨æ‰£è´¹ã€‚</p>
<h3 id="ğŸ•¹-ï¼ˆåœºæ™¯-7ï¼‰è®¢é˜…ä»˜è´¹-Web3-Subscription"><a href="#ğŸ•¹-ï¼ˆåœºæ™¯-7ï¼‰è®¢é˜…ä»˜è´¹-Web3-Subscription" class="headerlink" title="ğŸ•¹ ï¼ˆåœºæ™¯ 7ï¼‰è®¢é˜…ä»˜è´¹ Web3 Subscription"></a>ğŸ•¹ <strong>ï¼ˆåœºæ™¯ 7ï¼‰è®¢é˜…ä»˜è´¹ Web3 Subscription</strong></h3><p>æ¯”å¦‚ï¼š</p>
<ul>
<li>æ¯æœˆè‡ªåŠ¨æ‰£ 10 USDC</li>
<li>æ¯å¤©æ‰£ gas</li>
<li>è‡ªåŠ¨ç»­è´¹ä¼šå‘˜ NFT</li>
<li>è‡ªåŠ¨æ”¯ä»˜é¢„è¨€æœºæ‰‹ç»­è´¹ï¼ˆChainlinkï¼‰</li>
</ul>
<p>å…¨éƒ¨å¿…é¡» transferFromï¼Œå¦åˆ™éœ€è¦ä½ æ‰‹åŠ¨è½¬è´¦ â†’ å®Œå…¨æ— æ³•è‡ªåŠ¨åŒ–ã€‚</p>
<h3 id="ğŸ“Œ-å¦‚æœæ²¡æœ‰-transferFromï¼Œå°±æ²¡æœ‰-DeFiã€‚"><a href="#ğŸ“Œ-å¦‚æœæ²¡æœ‰-transferFromï¼Œå°±æ²¡æœ‰-DeFiã€‚" class="headerlink" title="ğŸ“Œ å¦‚æœæ²¡æœ‰ transferFromï¼Œå°±æ²¡æœ‰ DeFiã€‚"></a>ğŸ“Œ <strong>å¦‚æœæ²¡æœ‰ transferFromï¼Œå°±æ²¡æœ‰ DeFiã€‚</strong></h3><p>DeFi çš„æ ¸å¿ƒæ˜¯ï¼š</p>
<blockquote>
<p><strong>è‡ªåŠ¨åŒ–é‡‘è</strong></p>
</blockquote>
<p>è‡ªåŠ¨åŒ–æ„å‘³ç€ï¼š</p>
<ul>
<li>åˆçº¦è¦æœ‰æƒé™ä»£æ›¿ç”¨æˆ·æ‰§è¡ŒåŠ¨ä½œ</li>
<li>ç”¨æˆ·åªéœ€è¦åšæˆæƒ</li>
<li>åç»­æ‰€æœ‰å¤šæ­¥æµç¨‹è‡ªåŠ¨å®Œæˆ</li>
</ul>
<p>æ²¡æœ‰ transferFromï¼Œæ‰€æœ‰ DeFi æ“ä½œéƒ½è¦ä½ è‡ªå·±æ‰§è¡Œ 10+ æ­¥ã€‚</p>
<p>è¿™ä¸å« DeFiï¼Œè¿™å« Web2 æ‰‹åŠ¨æµç¨‹ã€‚</p>
<h3 id="ğŸ¯-æ ¸å¿ƒæ€»ç»“ï¼ˆå†™å¾—éå¸¸æ¸…æ™°ï¼‰"><a href="#ğŸ¯-æ ¸å¿ƒæ€»ç»“ï¼ˆå†™å¾—éå¸¸æ¸…æ™°ï¼‰" class="headerlink" title="ğŸ¯ æ ¸å¿ƒæ€»ç»“ï¼ˆå†™å¾—éå¸¸æ¸…æ™°ï¼‰"></a>ğŸ¯ <strong>æ ¸å¿ƒæ€»ç»“ï¼ˆå†™å¾—éå¸¸æ¸…æ™°ï¼‰</strong></h3><blockquote>
<p><strong>transferï¼šè‡ªå·±ç»™åˆ«äººè½¬é’±ï¼Œä¸éœ€è¦æˆæƒ</strong></p>
<p><strong>transferFromï¼šè®©åˆçº¦æˆ–ç¬¬ä¸‰æ–¹è‡ªåŠ¨ä»£ä½ æ‰£é’±ï¼Œæ‰€ä»¥å¿…é¡»æˆæƒ</strong></p>
</blockquote>
<p>transferFrom æ˜¯ ERC20 é‡Œ <strong>æœ€é‡è¦</strong> çš„å‡½æ•°ï¼Œæ²¡æœ‰å®ƒï¼š</p>
<ul>
<li>æ²¡æœ‰ DEX</li>
<li>æ²¡æœ‰å€Ÿè´·</li>
<li>æ²¡æœ‰è´¨æŠ¼</li>
<li>æ²¡æœ‰ NFT å¸‚åœº</li>
<li>æ²¡æœ‰é“¾æ¸¸</li>
<li>æ²¡æœ‰è®¢é˜…</li>
<li>æ²¡æœ‰è·¨é“¾æ¡¥</li>
<li>æ²¡æœ‰æœºå™¨äºº</li>
<li>æ²¡æœ‰ä»»æ„å¤æ‚äº¤æ˜“ç»„åˆ</li>
</ul>
<p>Web3 ä¼šç›´æ¥å€’é€€å›å•æœºæ—¶ä»£ã€‚</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Web3/">Web3</a>
                    
                  </div>
                
              </div>
              
                
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/11/15/35758.html">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">remixç¼–è¯‘è¿è¡Œsolidity10</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/11/14/26901.html">
                        <span class="hidden-mobile">remixç¼–è¯‘è¿è¡Œsolidity8</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


            

                
                  <a id="scroll-top-button" href="#" role="button">
                    <i class="iconfont icon-arrowup" aria-hidden="true"></i>
                  </a>
                  

                    

                          
      </main>

      <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://whale3070.github.io/" target="_blank" rel="nofollow noopener"><span>Whale3070</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- ä¸è’œå­ç»Ÿè®¡PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="busuanzi_value_site_pv"></span>
             æ¬¡
          </span>
      
      
        <!-- ä¸è’œå­ç»Ÿè®¡UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="busuanzi_value_site_uv"></span>
             äºº
          </span>
      
    
  </div>


  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js" ></script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




















<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>


<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
  <script src="/pagefind/pagefind-ui.js"></script>
  <style>
    /* æœç´¢æ¡†é…è‰²é€‚é… */
    #search { margin-top: 2rem; }
    [data-user-color-scheme='dark'] .pagefind-ui {
      --pagefind-ui-primary: #eeeeee;
      --pagefind-ui-text: #eeeeee;
      --pagefind-ui-background: #151515;
      --pagefind-ui-border: #333;
    }
  </style>
    </body>

  </html>